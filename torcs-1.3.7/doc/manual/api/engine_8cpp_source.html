<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>TORCS: src/modules/simu/simuv2/engine.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Ticon.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">TORCS
   &#160;<span id="projectnumber">1.3.7</span>
   </div>
   <div id="projectbrief">The Open Racing Car Simulator</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('engine_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">engine.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="engine_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">    file                 : engine.cpp</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">    created              : Sun Mar 19 00:06:55 CET 2000</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">    copyright            : (C) 2000 by Eric Espie</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">    email                : torcs@free.fr</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">    version              : $Id: engine.cpp,v 1.25.2.3 2014/04/12 13:55:30 berniw Exp $</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">***************************************************************************/</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/***************************************************************************</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *                                                                         *</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *   This program is free software; you can redistribute it and/or modify  *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *   it under the terms of the GNU General Public License as published by  *</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *   the Free Software Foundation; either version 2 of the License, or     *</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *   (at your option) any later version.                                   *</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *                                                                         *</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> ***************************************************************************/</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sim_8h.html">sim.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="portability_8h.html">portability.h</a>&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="sim_8h.html#a477023ef0ec18b3bf994b834507470a1">   24</a></span>&#160;<a class="code" href="engine_8cpp.html#a477023ef0ec18b3bf994b834507470a1">SimEngineConfig</a>(<a class="code" href="structt_car.html">tCar</a> *car)</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;{</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordtype">void</span> *hdle = car-&gt;<a class="code" href="structt_car.html#a6333162d2f7be3596e13faa08c293ab3">params</a>;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <a class="code" href="group__definitions.html#ga86c7fbd6697e2e7eb770c72e91a44957">tdble</a> maxTq;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="group__definitions.html#ga86c7fbd6697e2e7eb770c72e91a44957">tdble</a> rpmMaxTq = 0;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> IDXSIZE = 64;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordtype">char</span> idx[IDXSIZE];</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="structt_engine_curve_elem.html">tEngineCurveElem</a> *data;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keyword">struct </span>tEdesc {</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <a class="code" href="group__definitions.html#ga86c7fbd6697e2e7eb770c72e91a44957">tdble</a> rpm;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <a class="code" href="group__definitions.html#ga86c7fbd6697e2e7eb770c72e91a44957">tdble</a> tq;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    } *edesc;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    </div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    </div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#a3df532116c2152505f18ff7738b4c15b">revsLimiter</a> = <a class="code" href="group__paramsdata.html#ga57d6d6694c94482128c7b7bd6bf0a2e8">GfParmGetNum</a>(hdle, <a class="code" href="car_8h.html#a9d923dce9c0456d4a199d23378b2e77d">SECT_ENGINE</a>, <a class="code" href="car_8h.html#a8f972847434c964f04a643c7e30325d9">PRM_REVSLIM</a>, (<span class="keywordtype">char</span>*)NULL, 800);</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    car-&gt;<a class="code" href="structt_car.html#a7644652becfbbf0575f971b35273d560">carElt</a>-&gt;_enginerpmRedLine = car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#a3df532116c2152505f18ff7738b4c15b">revsLimiter</a>;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#a12e47fc5aa9bb776b185688c18963b83">revsMax</a>     = <a class="code" href="group__paramsdata.html#ga57d6d6694c94482128c7b7bd6bf0a2e8">GfParmGetNum</a>(hdle, <a class="code" href="car_8h.html#a9d923dce9c0456d4a199d23378b2e77d">SECT_ENGINE</a>, <a class="code" href="car_8h.html#a49b69cc5351b0903d4e384387f6be046">PRM_REVSMAX</a>, (<span class="keywordtype">char</span>*)NULL, 1000);</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    car-&gt;<a class="code" href="structt_car.html#a7644652becfbbf0575f971b35273d560">carElt</a>-&gt;_enginerpmMax = car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#a12e47fc5aa9bb776b185688c18963b83">revsMax</a>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#abe0495a3bb2a3bf903bc0d0a327e788c">tickover</a>    = <a class="code" href="group__paramsdata.html#ga57d6d6694c94482128c7b7bd6bf0a2e8">GfParmGetNum</a>(hdle, <a class="code" href="car_8h.html#a9d923dce9c0456d4a199d23378b2e77d">SECT_ENGINE</a>, <a class="code" href="car_8h.html#ab8eafd4369d41271b713ae2bf47877aa">PRM_TICKOVER</a>, (<span class="keywordtype">char</span>*)NULL, 150);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#a7723d65c57cb4d389ab8bb9b8e1cc1f1">I</a>           = <a class="code" href="group__paramsdata.html#ga57d6d6694c94482128c7b7bd6bf0a2e8">GfParmGetNum</a>(hdle, <a class="code" href="car_8h.html#a9d923dce9c0456d4a199d23378b2e77d">SECT_ENGINE</a>, <a class="code" href="car_8h.html#ab94ab296ea328c9e05170370ac8d6e5d">PRM_INERTIA</a>, (<span class="keywordtype">char</span>*)NULL, 0.2423f);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#ab1f7231835d0504af925e22e5356fc0a">fuelcons</a>    = <a class="code" href="group__paramsdata.html#ga57d6d6694c94482128c7b7bd6bf0a2e8">GfParmGetNum</a>(hdle, <a class="code" href="car_8h.html#a9d923dce9c0456d4a199d23378b2e77d">SECT_ENGINE</a>, <a class="code" href="car_8h.html#a51cc3293646a0051a0ca91c774d0968a">PRM_FUELCONS</a>, (<span class="keywordtype">char</span>*)NULL, 0.0622f);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#ac477524bec553b456afe9b6fb8af5da1">brakeCoeff</a>  = <a class="code" href="group__paramsdata.html#ga57d6d6694c94482128c7b7bd6bf0a2e8">GfParmGetNum</a>(hdle, <a class="code" href="car_8h.html#a9d923dce9c0456d4a199d23378b2e77d">SECT_ENGINE</a>, <a class="code" href="car_8h.html#a7f3fffc0d36b439bb573279b25421242">PRM_ENGBRKCOEFF</a>, (<span class="keywordtype">char</span>*)NULL, 0.33f);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#acdbc929c7ad445992a7f35fb769bd03a">exhaust_pressure</a> = 0.0f;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#a78277d718ee38c9f16059576c6467cbc">exhaust_refract</a> = 0.1f;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#ab1f7231835d0504af925e22e5356fc0a">fuelcons</a> *= <a class="code" href="sim_8h.html#ace76170e4a28509883c62f655be082a8">rulesFuelFactor</a>;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    </div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    snprintf(idx, IDXSIZE, <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code" href="car_8h.html#a9d923dce9c0456d4a199d23378b2e77d">SECT_ENGINE</a>, <a class="code" href="car_8h.html#a7bbfbeb2a3a4f5ad5c95eaaa998493aa">ARR_DATAPTS</a>);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#adfdd8a44cdd02d6852eec7c0b91afd8d">curve</a>.<a class="code" href="structt_engine_curve.html#a3ffb547170ee5c5abd23360c705626ee">nbPts</a> = <a class="code" href="group__paramslist.html#ga8e57c951dca972b605a7978baa11c41b">GfParmGetEltNb</a>(hdle, idx);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    edesc = (<span class="keyword">struct </span>tEdesc*)malloc((car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#adfdd8a44cdd02d6852eec7c0b91afd8d">curve</a>.<a class="code" href="structt_engine_curve.html#a3ffb547170ee5c5abd23360c705626ee">nbPts</a> + 1) * <span class="keyword">sizeof</span>(<span class="keyword">struct </span>tEdesc));</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    </div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#adfdd8a44cdd02d6852eec7c0b91afd8d">curve</a>.<a class="code" href="structt_engine_curve.html#a3ffb547170ee5c5abd23360c705626ee">nbPts</a>; i++) {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        snprintf(idx, IDXSIZE, <span class="stringliteral">&quot;%s/%s/%d&quot;</span>, <a class="code" href="car_8h.html#a9d923dce9c0456d4a199d23378b2e77d">SECT_ENGINE</a>, <a class="code" href="car_8h.html#a7bbfbeb2a3a4f5ad5c95eaaa998493aa">ARR_DATAPTS</a>, i+1);</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        edesc[i].rpm = <a class="code" href="group__paramsdata.html#ga57d6d6694c94482128c7b7bd6bf0a2e8">GfParmGetNum</a>(hdle, idx, <a class="code" href="car_8h.html#ade6215b416c197f3da7c4424c071f296">PRM_RPM</a>, (<span class="keywordtype">char</span>*)NULL, car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#a12e47fc5aa9bb776b185688c18963b83">revsMax</a>);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        edesc[i].tq  = <a class="code" href="group__paramsdata.html#ga57d6d6694c94482128c7b7bd6bf0a2e8">GfParmGetNum</a>(hdle, idx, <a class="code" href="car_8h.html#ab7299bdb9e8a9796d265c56eb60f12fb">PRM_TQ</a>, (<span class="keywordtype">char</span>*)NULL, 0);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    }</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    edesc[i].rpm = edesc[i - 1].rpm;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    edesc[i].tq  = edesc[i - 1].tq;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    </div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    maxTq = 0;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#adfdd8a44cdd02d6852eec7c0b91afd8d">curve</a>.<a class="code" href="structt_engine_curve.html#ad8479ea3515e4fdd46d1c60e691032d1">maxPw</a> = 0;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#adfdd8a44cdd02d6852eec7c0b91afd8d">curve</a>.<a class="code" href="structt_engine_curve.html#a708b9a4b6753b9bcf730ac58707a647a">data</a> = (<a class="code" href="structt_engine_curve_elem.html">tEngineCurveElem</a> *)malloc(car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#adfdd8a44cdd02d6852eec7c0b91afd8d">curve</a>.<a class="code" href="structt_engine_curve.html#a3ffb547170ee5c5abd23360c705626ee">nbPts</a> * <span class="keyword">sizeof</span>(<a class="code" href="structt_engine_curve_elem.html">tEngineCurveElem</a>));</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">for</span>(i = 0; i &lt; car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#adfdd8a44cdd02d6852eec7c0b91afd8d">curve</a>.<a class="code" href="structt_engine_curve.html#a3ffb547170ee5c5abd23360c705626ee">nbPts</a>; i++) {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        data = &amp;(car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#adfdd8a44cdd02d6852eec7c0b91afd8d">curve</a>.<a class="code" href="structt_engine_curve.html#a708b9a4b6753b9bcf730ac58707a647a">data</a>[i]);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        </div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        data-&gt;<a class="code" href="structt_engine_curve_elem.html#a27cd1b9ff58334b63abe0b6942ed7389">rads</a> = edesc[i+1].rpm;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keywordflow">if</span> ((data-&gt;<a class="code" href="structt_engine_curve_elem.html#a27cd1b9ff58334b63abe0b6942ed7389">rads</a>&gt;=car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#abe0495a3bb2a3bf903bc0d0a327e788c">tickover</a>)</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            &amp;&amp; (edesc[i+1].tq &gt; maxTq)</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            &amp;&amp; (data-&gt;<a class="code" href="structt_engine_curve_elem.html#a27cd1b9ff58334b63abe0b6942ed7389">rads</a> &lt; car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#a3df532116c2152505f18ff7738b4c15b">revsLimiter</a>)) {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            maxTq = edesc[i+1].tq;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            rpmMaxTq = data-&gt;<a class="code" href="structt_engine_curve_elem.html#a27cd1b9ff58334b63abe0b6942ed7389">rads</a>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="keywordflow">if</span> ((data-&gt;<a class="code" href="structt_engine_curve_elem.html#a27cd1b9ff58334b63abe0b6942ed7389">rads</a>&gt;=car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#abe0495a3bb2a3bf903bc0d0a327e788c">tickover</a>)</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            &amp;&amp; (data-&gt;<a class="code" href="structt_engine_curve_elem.html#a27cd1b9ff58334b63abe0b6942ed7389">rads</a> * edesc[i+1].tq &gt; car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#adfdd8a44cdd02d6852eec7c0b91afd8d">curve</a>.<a class="code" href="structt_engine_curve.html#ad8479ea3515e4fdd46d1c60e691032d1">maxPw</a>)</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            &amp;&amp; (data-&gt;<a class="code" href="structt_engine_curve_elem.html#a27cd1b9ff58334b63abe0b6942ed7389">rads</a> &lt; car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#a3df532116c2152505f18ff7738b4c15b">revsLimiter</a>)) {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#adfdd8a44cdd02d6852eec7c0b91afd8d">curve</a>.<a class="code" href="structt_engine_curve.html#a94148be90be1865743a123c281ad0bc0">TqAtMaxPw</a> = edesc[i+1].tq;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#adfdd8a44cdd02d6852eec7c0b91afd8d">curve</a>.<a class="code" href="structt_engine_curve.html#ad8479ea3515e4fdd46d1c60e691032d1">maxPw</a> = data-&gt;<a class="code" href="structt_engine_curve_elem.html#a27cd1b9ff58334b63abe0b6942ed7389">rads</a> * edesc[i+1].tq;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#adfdd8a44cdd02d6852eec7c0b91afd8d">curve</a>.<a class="code" href="structt_engine_curve.html#a823d4c552d41d1a33dff9fdd6316714b">rpmMaxPw</a> = data-&gt;<a class="code" href="structt_engine_curve_elem.html#a27cd1b9ff58334b63abe0b6942ed7389">rads</a>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    </div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        data-&gt;<a class="code" href="structt_engine_curve_elem.html#a9479daff3fad8d01047c95b1a8570be3">a</a> = (edesc[i+1].tq - edesc[i].tq) / (edesc[i+1].rpm - edesc[i].rpm);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        data-&gt;<a class="code" href="structt_engine_curve_elem.html#a43f811238f2fc12c5ba1bd80e0676869">b</a> = edesc[i].tq - data-&gt;<a class="code" href="structt_engine_curve_elem.html#a9479daff3fad8d01047c95b1a8570be3">a</a> * edesc[i].rpm;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    </div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#adfdd8a44cdd02d6852eec7c0b91afd8d">curve</a>.<a class="code" href="structt_engine_curve.html#a7c7402f4b313102ef6fdeba6b3e44465">maxTq</a> = maxTq;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    car-&gt;<a class="code" href="structt_car.html#a7644652becfbbf0575f971b35273d560">carElt</a>-&gt;_engineMaxTq = maxTq;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    car-&gt;<a class="code" href="structt_car.html#a7644652becfbbf0575f971b35273d560">carElt</a>-&gt;_enginerpmMaxTq = rpmMaxTq;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    car-&gt;<a class="code" href="structt_car.html#a7644652becfbbf0575f971b35273d560">carElt</a>-&gt;_engineMaxPw = car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#adfdd8a44cdd02d6852eec7c0b91afd8d">curve</a>.<a class="code" href="structt_engine_curve.html#ad8479ea3515e4fdd46d1c60e691032d1">maxPw</a>;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    car-&gt;<a class="code" href="structt_car.html#a7644652becfbbf0575f971b35273d560">carElt</a>-&gt;_enginerpmMaxPw = car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#adfdd8a44cdd02d6852eec7c0b91afd8d">curve</a>.<a class="code" href="structt_engine_curve.html#a823d4c552d41d1a33dff9fdd6316714b">rpmMaxPw</a>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    </div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#a8f66dbc3600aa088a1430451de3f961b">rads</a> = car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#abe0495a3bb2a3bf903bc0d0a327e788c">tickover</a>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    </div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    free(edesc);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">/* Update torque output with engine rpm and accelerator command */</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="sim_8h.html#acb65f91abcc2fd7d3a659c18dc7c3b41">  101</a></span>&#160;<a class="code" href="engine_8cpp.html#acb65f91abcc2fd7d3a659c18dc7c3b41">SimEngineUpdateTq</a>(<a class="code" href="structt_car.html">tCar</a> *car)</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="structt_engine.html">tEngine</a> *engine = &amp;(car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="structt_engine_curve.html">tEngineCurve</a> *curve = &amp;(engine-&gt;<a class="code" href="structt_engine.html#adfdd8a44cdd02d6852eec7c0b91afd8d">curve</a>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    </div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span> ((car-&gt;<a class="code" href="structt_car.html#a0f8681f30a470549036bf086a542359d">fuel</a> &lt;= 0.0f) || (car-&gt;<a class="code" href="structt_car.html#a7644652becfbbf0575f971b35273d560">carElt</a>-&gt;_state &amp; (<a class="code" href="car_8h.html#aaaf0179d3e04dafd22de6cb800bb99d7">RM_CAR_STATE_BROKEN</a> | <a class="code" href="car_8h.html#ae4867f14c52f745ed4840e187975353b">RM_CAR_STATE_ELIMINATED</a>))) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        engine-&gt;<a class="code" href="structt_engine.html#a8f66dbc3600aa088a1430451de3f961b">rads</a> = 0;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        engine-&gt;<a class="code" href="structt_engine.html#a2825c2f6afd199361ad05b17605073fa">Tq</a> = 0;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    </div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">if</span> (engine-&gt;<a class="code" href="structt_engine.html#a8f66dbc3600aa088a1430451de3f961b">rads</a> &gt; engine-&gt;<a class="code" href="structt_engine.html#a3df532116c2152505f18ff7738b4c15b">revsLimiter</a>) {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        engine-&gt;<a class="code" href="structt_engine.html#a8f66dbc3600aa088a1430451de3f961b">rads</a> = engine-&gt;<a class="code" href="structt_engine.html#a3df532116c2152505f18ff7738b4c15b">revsLimiter</a>;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        engine-&gt;<a class="code" href="structt_engine.html#a2825c2f6afd199361ad05b17605073fa">Tq</a> = 0;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#adfdd8a44cdd02d6852eec7c0b91afd8d">curve</a>.<a class="code" href="structt_engine_curve.html#a3ffb547170ee5c5abd23360c705626ee">nbPts</a>; i++) {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="keywordflow">if</span> (engine-&gt;<a class="code" href="structt_engine.html#a8f66dbc3600aa088a1430451de3f961b">rads</a> &lt; curve-&gt;<a class="code" href="structt_engine_curve.html#a708b9a4b6753b9bcf730ac58707a647a">data</a>[i].<a class="code" href="structt_engine_curve_elem.html#a27cd1b9ff58334b63abe0b6942ed7389">rads</a>) {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                <a class="code" href="group__definitions.html#ga86c7fbd6697e2e7eb770c72e91a44957">tdble</a> Tmax = engine-&gt;<a class="code" href="structt_engine.html#a8f66dbc3600aa088a1430451de3f961b">rads</a> * curve-&gt;<a class="code" href="structt_engine_curve.html#a708b9a4b6753b9bcf730ac58707a647a">data</a>[i].<a class="code" href="structt_engine_curve_elem.html#a9479daff3fad8d01047c95b1a8570be3">a</a> + curve-&gt;<a class="code" href="structt_engine_curve.html#a708b9a4b6753b9bcf730ac58707a647a">data</a>[i].<a class="code" href="structt_engine_curve_elem.html#a43f811238f2fc12c5ba1bd80e0676869">b</a>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                <a class="code" href="group__definitions.html#ga86c7fbd6697e2e7eb770c72e91a44957">tdble</a> EngBrkK = engine-&gt;<a class="code" href="structt_engine.html#ac477524bec553b456afe9b6fb8af5da1">brakeCoeff</a> * (engine-&gt;<a class="code" href="structt_engine.html#a8f66dbc3600aa088a1430451de3f961b">rads</a> - engine-&gt;<a class="code" href="structt_engine.html#abe0495a3bb2a3bf903bc0d0a327e788c">tickover</a>) / (engine-&gt;<a class="code" href="structt_engine.html#a12e47fc5aa9bb776b185688c18963b83">revsMax</a> - engine-&gt;<a class="code" href="structt_engine.html#abe0495a3bb2a3bf903bc0d0a327e788c">tickover</a>);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        </div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                engine-&gt;<a class="code" href="structt_engine.html#a2825c2f6afd199361ad05b17605073fa">Tq</a> = Tmax * (car-&gt;<a class="code" href="structt_car.html#aceb673dfa6eb59a82f02c4f86195c128">ctrl</a>-&gt;<a class="code" href="structt_car_ctrl.html#ae3f6aa9e48b803e00532f9781b42481e">accelCmd</a> * (1.0 + EngBrkK) - EngBrkK);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                <span class="comment">// Engines comsume always fuel (needed for keeping the process running, inner friction,</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                <span class="comment">// braking, accelerating pistons, etc.</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                <span class="comment">// TODO: Evaluate if it is worth implementing it.</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                car-&gt;<a class="code" href="structt_car.html#a0f8681f30a470549036bf086a542359d">fuel</a> -= fabs(engine-&gt;<a class="code" href="structt_engine.html#a2825c2f6afd199361ad05b17605073fa">Tq</a>) * engine-&gt;<a class="code" href="structt_engine.html#a8f66dbc3600aa088a1430451de3f961b">rads</a> * engine-&gt;<a class="code" href="structt_engine.html#ab1f7231835d0504af925e22e5356fc0a">fuelcons</a> * 0.0000001 * <a class="code" href="sim_8h.html#af4ef41ee8999509e7971d02d2e2eecb3">SimDeltaTime</a>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                <span class="keywordflow">if</span> (car-&gt;<a class="code" href="structt_car.html#a0f8681f30a470549036bf086a542359d">fuel</a> &lt;= 0.0) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                    car-&gt;<a class="code" href="structt_car.html#a0f8681f30a470549036bf086a542359d">fuel</a> = 0.0;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    } </div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment"> * Function</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment"> *  SimEngineUpdateRpm</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment"> * Description</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment"> *  update engine RPM with wheels RPM</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment"> * Parameters</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment"> *  car and axle RPM</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment"> * Return</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment"> *  axle rpm for wheel update</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment"> *  0 if no wheel update</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<a class="code" href="group__definitions.html#ga86c7fbd6697e2e7eb770c72e91a44957">tdble</a></div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="sim_8h.html#ae1009939b3afed994d111c57be5b5887">  151</a></span>&#160;<a class="code" href="engine_8cpp.html#ae1009939b3afed994d111c57be5b5887">SimEngineUpdateRpm</a>(<a class="code" href="structt_car.html">tCar</a> *car, <a class="code" href="group__definitions.html#ga86c7fbd6697e2e7eb770c72e91a44957">tdble</a> axleRpm)</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;{</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="structt_transmission.html">tTransmission</a> *trans = &amp;(car-&gt;<a class="code" href="structt_car.html#a7523edaefe0f9a05835ab54cba03cad7">transmission</a>);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="structt_clutch.html">tClutch</a> *clutch = &amp;(trans-&gt;<a class="code" href="structt_transmission.html#aaedfd3270f0b5f9bc0e3d3660b2b04ed">clutch</a>);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="structt_engine.html">tEngine</a> *engine = &amp;(car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordtype">float</span> freerads;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordtype">float</span> transfer;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    </div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    </div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span> (car-&gt;<a class="code" href="structt_car.html#a0f8681f30a470549036bf086a542359d">fuel</a> &lt;= 0.0) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        engine-&gt;<a class="code" href="structt_engine.html#a8f66dbc3600aa088a1430451de3f961b">rads</a> = 0;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        clutch-&gt;<a class="code" href="structt_clutch.html#a6f8b49253a91efd7cd22087752b02e0c">state</a> = <a class="code" href="transmission_8h.html#af49f5eb8518b125e960d3c8965effe2a">CLUTCH_APPLIED</a>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        clutch-&gt;<a class="code" href="structt_clutch.html#a19447898fd1bd0bf0350e26f42d861d0">transferValue</a> = 0.0;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">return</span> 0.0;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    </div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    freerads = engine-&gt;<a class="code" href="structt_engine.html#a8f66dbc3600aa088a1430451de3f961b">rads</a>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    freerads += engine-&gt;<a class="code" href="structt_engine.html#a2825c2f6afd199361ad05b17605073fa">Tq</a> / engine-&gt;<a class="code" href="structt_engine.html#a7723d65c57cb4d389ab8bb9b8e1cc1f1">I</a> * <a class="code" href="sim_8h.html#af4ef41ee8999509e7971d02d2e2eecb3">SimDeltaTime</a>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <a class="code" href="group__definitions.html#ga86c7fbd6697e2e7eb770c72e91a44957">tdble</a> dp = engine-&gt;<a class="code" href="structt_engine.html#a18969ebaa13b8a557978b84d1998d3fe">pressure</a>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        engine-&gt;<a class="code" href="structt_engine.html#a18969ebaa13b8a557978b84d1998d3fe">pressure</a> = engine-&gt;<a class="code" href="structt_engine.html#a18969ebaa13b8a557978b84d1998d3fe">pressure</a>*0.9f + 0.1f*engine-&gt;<a class="code" href="structt_engine.html#a2825c2f6afd199361ad05b17605073fa">Tq</a>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        dp = (0.001f*fabs(engine-&gt;<a class="code" href="structt_engine.html#a18969ebaa13b8a557978b84d1998d3fe">pressure</a> - dp));</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        dp = fabs(dp);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="code" href="group__definitions.html#ga86c7fbd6697e2e7eb770c72e91a44957">tdble</a> rth = <a class="code" href="_distribution_8cpp.html#a5d688d70363408aef33fdb9bea5f7d50">urandom</a>();</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">if</span> (dp &gt; rth) {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            engine-&gt;<a class="code" href="structt_engine.html#acdbc929c7ad445992a7f35fb769bd03a">exhaust_pressure</a> += rth;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        engine-&gt;<a class="code" href="structt_engine.html#acdbc929c7ad445992a7f35fb769bd03a">exhaust_pressure</a> *= 0.9f;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        car-&gt;<a class="code" href="structt_car.html#a7644652becfbbf0575f971b35273d560">carElt</a>-&gt;<a class="code" href="struct_car_elt.html#a4e2364e7e0a8f314f65af8d70cf88e6a">priv</a>.<a class="code" href="structt_priv_car.html#a921319f7a08e9558d61f468ac3d4f123">smoke</a> += 5.0f*engine-&gt;<a class="code" href="structt_engine.html#acdbc929c7ad445992a7f35fb769bd03a">exhaust_pressure</a>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        car-&gt;<a class="code" href="structt_car.html#a7644652becfbbf0575f971b35273d560">carElt</a>-&gt;<a class="code" href="struct_car_elt.html#a4e2364e7e0a8f314f65af8d70cf88e6a">priv</a>.<a class="code" href="structt_priv_car.html#a921319f7a08e9558d61f468ac3d4f123">smoke</a> *= 0.99f;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    </div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> ((clutch-&gt;<a class="code" href="structt_clutch.html#a19447898fd1bd0bf0350e26f42d861d0">transferValue</a> &gt; 0.01f) &amp;&amp; (trans-&gt;<a class="code" href="structt_transmission.html#ad1298aaafa0a4412d09eb3b7c2ca4801">gearbox</a>.<a class="code" href="structt_gearbox.html#a328c61f40d8029bf31b2fb7f6bc796b3">gear</a>)) {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        transfer = clutch-&gt;<a class="code" href="structt_clutch.html#a19447898fd1bd0bf0350e26f42d861d0">transferValue</a> * clutch-&gt;<a class="code" href="structt_clutch.html#a19447898fd1bd0bf0350e26f42d861d0">transferValue</a> * clutch-&gt;<a class="code" href="structt_clutch.html#a19447898fd1bd0bf0350e26f42d861d0">transferValue</a> * clutch-&gt;<a class="code" href="structt_clutch.html#a19447898fd1bd0bf0350e26f42d861d0">transferValue</a>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    </div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        engine-&gt;<a class="code" href="structt_engine.html#a8f66dbc3600aa088a1430451de3f961b">rads</a> = axleRpm * trans-&gt;<a class="code" href="structt_transmission.html#a7e3e8a681b41061d80f7042b2273a05b">curOverallRatio</a> * transfer + freerads * (1.0f - transfer);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    </div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">if</span> (engine-&gt;<a class="code" href="structt_engine.html#a8f66dbc3600aa088a1430451de3f961b">rads</a> &lt; engine-&gt;<a class="code" href="structt_engine.html#abe0495a3bb2a3bf903bc0d0a327e788c">tickover</a>) {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            engine-&gt;<a class="code" href="structt_engine.html#a8f66dbc3600aa088a1430451de3f961b">rads</a> = engine-&gt;<a class="code" href="structt_engine.html#abe0495a3bb2a3bf903bc0d0a327e788c">tickover</a>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (engine-&gt;<a class="code" href="structt_engine.html#a8f66dbc3600aa088a1430451de3f961b">rads</a> &gt; engine-&gt;<a class="code" href="structt_engine.html#a12e47fc5aa9bb776b185688c18963b83">revsMax</a>) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            engine-&gt;<a class="code" href="structt_engine.html#a8f66dbc3600aa088a1430451de3f961b">rads</a> = engine-&gt;<a class="code" href="structt_engine.html#a12e47fc5aa9bb776b185688c18963b83">revsMax</a>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <span class="keywordflow">return</span> engine-&gt;<a class="code" href="structt_engine.html#a12e47fc5aa9bb776b185688c18963b83">revsMax</a> / trans-&gt;<a class="code" href="structt_transmission.html#a7e3e8a681b41061d80f7042b2273a05b">curOverallRatio</a>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        engine-&gt;<a class="code" href="structt_engine.html#a8f66dbc3600aa088a1430451de3f961b">rads</a> = freerads;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">return</span> 0.0;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="sim_8h.html#aba06ffc2292ad4fe9ef9a8605cf07852">  201</a></span>&#160;<a class="code" href="engine_8cpp.html#aba06ffc2292ad4fe9ef9a8605cf07852">SimEngineShutdown</a>(<a class="code" href="structt_car.html">tCar</a> *car)</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    free(car-&gt;<a class="code" href="structt_car.html#ab5029fa895576c82392cab34162cfa31">engine</a>.<a class="code" href="structt_engine.html#adfdd8a44cdd02d6852eec7c0b91afd8d">curve</a>.<a class="code" href="structt_engine_curve.html#a708b9a4b6753b9bcf730ac58707a647a">data</a>);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div><div class="ttc" id="engine_8cpp_html_a477023ef0ec18b3bf994b834507470a1"><div class="ttname"><a href="engine_8cpp.html#a477023ef0ec18b3bf994b834507470a1">SimEngineConfig</a></div><div class="ttdeci">void SimEngineConfig(tCar *car)</div><div class="ttdef"><b>Definition:</b> <a href="engine_8cpp_source.html#l00024">engine.cpp:24</a></div></div>
<div class="ttc" id="structt_car_html_a0f8681f30a470549036bf086a542359d"><div class="ttname"><a href="structt_car.html#a0f8681f30a470549036bf086a542359d">tCar::fuel</a></div><div class="ttdeci">tdble fuel</div><div class="ttdef"><b>Definition:</b> <a href="carstruct_8h_source.html#l00063">carstruct.h:63</a></div></div>
<div class="ttc" id="structt_car_html_a6333162d2f7be3596e13faa08c293ab3"><div class="ttname"><a href="structt_car.html#a6333162d2f7be3596e13faa08c293ab3">tCar::params</a></div><div class="ttdeci">void * params</div><div class="ttdef"><b>Definition:</b> <a href="carstruct_8h_source.html#l00039">carstruct.h:39</a></div></div>
<div class="ttc" id="structt_engine_curve_html_ad8479ea3515e4fdd46d1c60e691032d1"><div class="ttname"><a href="structt_engine_curve.html#ad8479ea3515e4fdd46d1c60e691032d1">tEngineCurve::maxPw</a></div><div class="ttdeci">tdble maxPw</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00031">engine.h:31</a></div></div>
<div class="ttc" id="structt_engine_curve_html_a823d4c552d41d1a33dff9fdd6316714b"><div class="ttname"><a href="structt_engine_curve.html#a823d4c552d41d1a33dff9fdd6316714b">tEngineCurve::rpmMaxPw</a></div><div class="ttdeci">tdble rpmMaxPw</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00032">engine.h:32</a></div></div>
<div class="ttc" id="car_8h_html_aaaf0179d3e04dafd22de6cb800bb99d7"><div class="ttname"><a href="car_8h.html#aaaf0179d3e04dafd22de6cb800bb99d7">RM_CAR_STATE_BROKEN</a></div><div class="ttdeci">#define RM_CAR_STATE_BROKEN</div><div class="ttdoc">Engine no more working. </div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00219">car.h:219</a></div></div>
<div class="ttc" id="structt_engine_html_ac477524bec553b456afe9b6fb8af5da1"><div class="ttname"><a href="structt_engine.html#ac477524bec553b456afe9b6fb8af5da1">tEngine::brakeCoeff</a></div><div class="ttdeci">tdble brakeCoeff</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00049">engine.h:49</a></div></div>
<div class="ttc" id="structt_engine_html_a7723d65c57cb4d389ab8bb9b8e1cc1f1"><div class="ttname"><a href="structt_engine.html#a7723d65c57cb4d389ab8bb9b8e1cc1f1">tEngine::I</a></div><div class="ttdeci">tdble I</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00045">engine.h:45</a></div></div>
<div class="ttc" id="car_8h_html_a8f972847434c964f04a643c7e30325d9"><div class="ttname"><a href="car_8h.html#a8f972847434c964f04a643c7e30325d9">PRM_REVSLIM</a></div><div class="ttdeci">#define PRM_REVSLIM</div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00568">car.h:568</a></div></div>
<div class="ttc" id="sim_8h_html_ace76170e4a28509883c62f655be082a8"><div class="ttname"><a href="sim_8h.html#ace76170e4a28509883c62f655be082a8">rulesFuelFactor</a></div><div class="ttdeci">tdble rulesFuelFactor</div><div class="ttdef"><b>Definition:</b> <a href="simu_8cpp_source.html#l00039">simu.cpp:39</a></div></div>
<div class="ttc" id="structt_car_html"><div class="ttname"><a href="structt_car.html">tCar</a></div><div class="ttdef"><b>Definition:</b> <a href="carstruct_8h_source.html#l00035">carstruct.h:35</a></div></div>
<div class="ttc" id="structt_engine_html_ab1f7231835d0504af925e22e5356fc0a"><div class="ttname"><a href="structt_engine.html#ab1f7231835d0504af925e22e5356fc0a">tEngine::fuelcons</a></div><div class="ttdeci">tdble fuelcons</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00048">engine.h:48</a></div></div>
<div class="ttc" id="structt_car_html_aceb673dfa6eb59a82f02c4f86195c128"><div class="ttname"><a href="structt_car.html#aceb673dfa6eb59a82f02c4f86195c128">tCar::ctrl</a></div><div class="ttdeci">tCarCtrl * ctrl</div><div class="ttdef"><b>Definition:</b> <a href="carstruct_8h_source.html#l00038">carstruct.h:38</a></div></div>
<div class="ttc" id="structt_engine_curve_elem_html"><div class="ttname"><a href="structt_engine_curve_elem.html">tEngineCurveElem</a></div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00023">engine.h:23</a></div></div>
<div class="ttc" id="sim_8h_html_af4ef41ee8999509e7971d02d2e2eecb3"><div class="ttname"><a href="sim_8h.html#af4ef41ee8999509e7971d02d2e2eecb3">SimDeltaTime</a></div><div class="ttdeci">tdble SimDeltaTime</div><div class="ttdef"><b>Definition:</b> <a href="simu_8cpp_source.html#l00035">simu.cpp:35</a></div></div>
<div class="ttc" id="structt_priv_car_html_a921319f7a08e9558d61f468ac3d4f123"><div class="ttname"><a href="structt_priv_car.html#a921319f7a08e9558d61f468ac3d4f123">tPrivCar::smoke</a></div><div class="ttdeci">float smoke</div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00312">car.h:312</a></div></div>
<div class="ttc" id="car_8h_html_a49b69cc5351b0903d4e384387f6be046"><div class="ttname"><a href="car_8h.html#a49b69cc5351b0903d4e384387f6be046">PRM_REVSMAX</a></div><div class="ttdeci">#define PRM_REVSMAX</div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00569">car.h:569</a></div></div>
<div class="ttc" id="portability_8h_html"><div class="ttname"><a href="portability_8h.html">portability.h</a></div></div>
<div class="ttc" id="transmission_8h_html_af49f5eb8518b125e960d3c8965effe2a"><div class="ttname"><a href="transmission_8h.html#af49f5eb8518b125e960d3c8965effe2a">CLUTCH_APPLIED</a></div><div class="ttdeci">#define CLUTCH_APPLIED</div><div class="ttdef"><b>Definition:</b> <a href="transmission_8h_source.html#l00039">transmission.h:39</a></div></div>
<div class="ttc" id="engine_8cpp_html_acb65f91abcc2fd7d3a659c18dc7c3b41"><div class="ttname"><a href="engine_8cpp.html#acb65f91abcc2fd7d3a659c18dc7c3b41">SimEngineUpdateTq</a></div><div class="ttdeci">void SimEngineUpdateTq(tCar *car)</div><div class="ttdef"><b>Definition:</b> <a href="engine_8cpp_source.html#l00101">engine.cpp:101</a></div></div>
<div class="ttc" id="structt_engine_html_adfdd8a44cdd02d6852eec7c0b91afd8d"><div class="ttname"><a href="structt_engine.html#adfdd8a44cdd02d6852eec7c0b91afd8d">tEngine::curve</a></div><div class="ttdeci">tEngineCurve curve</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00041">engine.h:41</a></div></div>
<div class="ttc" id="structt_engine_html_abe0495a3bb2a3bf903bc0d0a327e788c"><div class="ttname"><a href="structt_engine.html#abe0495a3bb2a3bf903bc0d0a327e788c">tEngine::tickover</a></div><div class="ttdeci">tdble tickover</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00044">engine.h:44</a></div></div>
<div class="ttc" id="structt_engine_curve_html_a7c7402f4b313102ef6fdeba6b3e44465"><div class="ttname"><a href="structt_engine_curve.html#a7c7402f4b313102ef6fdeba6b3e44465">tEngineCurve::maxTq</a></div><div class="ttdeci">tdble maxTq</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00030">engine.h:30</a></div></div>
<div class="ttc" id="car_8h_html_a7f3fffc0d36b439bb573279b25421242"><div class="ttname"><a href="car_8h.html#a7f3fffc0d36b439bb573279b25421242">PRM_ENGBRKCOEFF</a></div><div class="ttdeci">#define PRM_ENGBRKCOEFF</div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00575">car.h:575</a></div></div>
<div class="ttc" id="structt_transmission_html"><div class="ttname"><a href="structt_transmission.html">tTransmission</a></div><div class="ttdef"><b>Definition:</b> <a href="transmission_8h_source.html#l00050">transmission.h:50</a></div></div>
<div class="ttc" id="structt_gearbox_html_a328c61f40d8029bf31b2fb7f6bc796b3"><div class="ttname"><a href="structt_gearbox.html#a328c61f40d8029bf31b2fb7f6bc796b3">tGearbox::gear</a></div><div class="ttdeci">int gear</div><div class="ttdef"><b>Definition:</b> <a href="transmission_8h_source.html#l00031">transmission.h:31</a></div></div>
<div class="ttc" id="engine_8cpp_html_ae1009939b3afed994d111c57be5b5887"><div class="ttname"><a href="engine_8cpp.html#ae1009939b3afed994d111c57be5b5887">SimEngineUpdateRpm</a></div><div class="ttdeci">tdble SimEngineUpdateRpm(tCar *car, tdble axleRpm)</div><div class="ttdef"><b>Definition:</b> <a href="engine_8cpp_source.html#l00151">engine.cpp:151</a></div></div>
<div class="ttc" id="car_8h_html_ab8eafd4369d41271b713ae2bf47877aa"><div class="ttname"><a href="car_8h.html#ab8eafd4369d41271b713ae2bf47877aa">PRM_TICKOVER</a></div><div class="ttdeci">#define PRM_TICKOVER</div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00570">car.h:570</a></div></div>
<div class="ttc" id="structt_engine_curve_html_a94148be90be1865743a123c281ad0bc0"><div class="ttname"><a href="structt_engine_curve.html#a94148be90be1865743a123c281ad0bc0">tEngineCurve::TqAtMaxPw</a></div><div class="ttdeci">tdble TqAtMaxPw</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00033">engine.h:33</a></div></div>
<div class="ttc" id="group__definitions_html_ga86c7fbd6697e2e7eb770c72e91a44957"><div class="ttname"><a href="group__definitions.html#ga86c7fbd6697e2e7eb770c72e91a44957">tdble</a></div><div class="ttdeci">float tdble</div><div class="ttdoc">Floating point type used in TORCS. </div><div class="ttdef"><b>Definition:</b> <a href="tgf_8h_source.html#l00049">tgf.h:49</a></div></div>
<div class="ttc" id="structt_engine_html_a3df532116c2152505f18ff7738b4c15b"><div class="ttname"><a href="structt_engine.html#a3df532116c2152505f18ff7738b4c15b">tEngine::revsLimiter</a></div><div class="ttdeci">tdble revsLimiter</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00042">engine.h:42</a></div></div>
<div class="ttc" id="engine_8cpp_html_aba06ffc2292ad4fe9ef9a8605cf07852"><div class="ttname"><a href="engine_8cpp.html#aba06ffc2292ad4fe9ef9a8605cf07852">SimEngineShutdown</a></div><div class="ttdeci">void SimEngineShutdown(tCar *car)</div><div class="ttdef"><b>Definition:</b> <a href="engine_8cpp_source.html#l00201">engine.cpp:201</a></div></div>
<div class="ttc" id="structt_engine_html_a2825c2f6afd199361ad05b17605073fa"><div class="ttname"><a href="structt_engine.html#a2825c2f6afd199361ad05b17605073fa">tEngine::Tq</a></div><div class="ttdeci">tdble Tq</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00047">engine.h:47</a></div></div>
<div class="ttc" id="structt_car_html_a7644652becfbbf0575f971b35273d560"><div class="ttname"><a href="structt_car.html#a7644652becfbbf0575f971b35273d560">tCar::carElt</a></div><div class="ttdeci">tCarElt * carElt</div><div class="ttdef"><b>Definition:</b> <a href="carstruct_8h_source.html#l00040">carstruct.h:40</a></div></div>
<div class="ttc" id="structt_clutch_html_a19447898fd1bd0bf0350e26f42d861d0"><div class="ttname"><a href="structt_clutch.html#a19447898fd1bd0bf0350e26f42d861d0">tClutch::transferValue</a></div><div class="ttdeci">tdble transferValue</div><div class="ttdef"><b>Definition:</b> <a href="transmission_8h_source.html#l00047">transmission.h:47</a></div></div>
<div class="ttc" id="structt_engine_html"><div class="ttname"><a href="structt_engine.html">tEngine</a></div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00039">engine.h:39</a></div></div>
<div class="ttc" id="struct_car_elt_html_a4e2364e7e0a8f314f65af8d70cf88e6a"><div class="ttname"><a href="struct_car_elt.html#a4e2364e7e0a8f314f65af8d70cf88e6a">CarElt::priv</a></div><div class="ttdeci">tPrivCar priv</div><div class="ttdoc">private </div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00451">car.h:451</a></div></div>
<div class="ttc" id="structt_engine_html_a78277d718ee38c9f16059576c6467cbc"><div class="ttname"><a href="structt_engine.html#a78277d718ee38c9f16059576c6467cbc">tEngine::exhaust_refract</a></div><div class="ttdeci">tdble exhaust_refract</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00052">engine.h:52</a></div></div>
<div class="ttc" id="structt_clutch_html"><div class="ttname"><a href="structt_clutch.html">tClutch</a></div><div class="ttdef"><b>Definition:</b> <a href="transmission_8h_source.html#l00036">transmission.h:36</a></div></div>
<div class="ttc" id="structt_engine_html_acdbc929c7ad445992a7f35fb769bd03a"><div class="ttname"><a href="structt_engine.html#acdbc929c7ad445992a7f35fb769bd03a">tEngine::exhaust_pressure</a></div><div class="ttdeci">tdble exhaust_pressure</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00051">engine.h:51</a></div></div>
<div class="ttc" id="car_8h_html_a9d923dce9c0456d4a199d23378b2e77d"><div class="ttname"><a href="car_8h.html#a9d923dce9c0456d4a199d23378b2e77d">SECT_ENGINE</a></div><div class="ttdeci">#define SECT_ENGINE</div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00490">car.h:490</a></div></div>
<div class="ttc" id="car_8h_html_a7bbfbeb2a3a4f5ad5c95eaaa998493aa"><div class="ttname"><a href="car_8h.html#a7bbfbeb2a3a4f5ad5c95eaaa998493aa">ARR_DATAPTS</a></div><div class="ttdeci">#define ARR_DATAPTS</div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00573">car.h:573</a></div></div>
<div class="ttc" id="structt_car_ctrl_html_ae3f6aa9e48b803e00532f9781b42481e"><div class="ttname"><a href="structt_car_ctrl.html#ae3f6aa9e48b803e00532f9781b42481e">tCarCtrl::accelCmd</a></div><div class="ttdeci">tdble accelCmd</div><div class="ttdoc">Accelerator command [0.0, 1.0]. </div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00344">car.h:344</a></div></div>
<div class="ttc" id="group__paramsdata_html_ga57d6d6694c94482128c7b7bd6bf0a2e8"><div class="ttname"><a href="group__paramsdata.html#ga57d6d6694c94482128c7b7bd6bf0a2e8">GfParmGetNum</a></div><div class="ttdeci">tdble GfParmGetNum(void *handle, const char *path, const char *key, const char *unit, tdble deflt)</div><div class="ttdoc">Get a numerical parameter from the parameter set handle. </div><div class="ttdef"><b>Definition:</b> <a href="params_8cpp_source.html#l02392">params.cpp:2392</a></div></div>
<div class="ttc" id="car_8h_html_ae4867f14c52f745ed4840e187975353b"><div class="ttname"><a href="car_8h.html#ae4867f14c52f745ed4840e187975353b">RM_CAR_STATE_ELIMINATED</a></div><div class="ttdeci">#define RM_CAR_STATE_ELIMINATED</div><div class="ttdoc">Eliminated due to rules infringement. </div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00221">car.h:221</a></div></div>
<div class="ttc" id="structt_engine_html_a12e47fc5aa9bb776b185688c18963b83"><div class="ttname"><a href="structt_engine.html#a12e47fc5aa9bb776b185688c18963b83">tEngine::revsMax</a></div><div class="ttdeci">tdble revsMax</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00043">engine.h:43</a></div></div>
<div class="ttc" id="structt_engine_curve_html_a3ffb547170ee5c5abd23360c705626ee"><div class="ttname"><a href="structt_engine_curve.html#a3ffb547170ee5c5abd23360c705626ee">tEngineCurve::nbPts</a></div><div class="ttdeci">int nbPts</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00035">engine.h:35</a></div></div>
<div class="ttc" id="car_8h_html_ade6215b416c197f3da7c4424c071f296"><div class="ttname"><a href="car_8h.html#ade6215b416c197f3da7c4424c071f296">PRM_RPM</a></div><div class="ttdeci">#define PRM_RPM</div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00571">car.h:571</a></div></div>
<div class="ttc" id="structt_transmission_html_aaedfd3270f0b5f9bc0e3d3660b2b04ed"><div class="ttname"><a href="structt_transmission.html#aaedfd3270f0b5f9bc0e3d3660b2b04ed">tTransmission::clutch</a></div><div class="ttdeci">tClutch clutch</div><div class="ttdef"><b>Definition:</b> <a href="transmission_8h_source.html#l00053">transmission.h:53</a></div></div>
<div class="ttc" id="structt_car_html_a7523edaefe0f9a05835ab54cba03cad7"><div class="ttname"><a href="structt_car.html#a7523edaefe0f9a05835ab54cba03cad7">tCar::transmission</a></div><div class="ttdeci">tTransmission transmission</div><div class="ttdef"><b>Definition:</b> <a href="carstruct_8h_source.html#l00051">carstruct.h:51</a></div></div>
<div class="ttc" id="structt_engine_curve_elem_html_a27cd1b9ff58334b63abe0b6942ed7389"><div class="ttname"><a href="structt_engine_curve_elem.html#a27cd1b9ff58334b63abe0b6942ed7389">tEngineCurveElem::rads</a></div><div class="ttdeci">tdble rads</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00024">engine.h:24</a></div></div>
<div class="ttc" id="group__paramslist_html_ga8e57c951dca972b605a7978baa11c41b"><div class="ttname"><a href="group__paramslist.html#ga8e57c951dca972b605a7978baa11c41b">GfParmGetEltNb</a></div><div class="ttdeci">int GfParmGetEltNb(void *handle, const char *path)</div><div class="ttdoc">Count the number of subsections in a section in the parameter set handle. </div><div class="ttdef"><b>Definition:</b> <a href="params_8cpp_source.html#l02106">params.cpp:2106</a></div></div>
<div class="ttc" id="structt_car_html_ab5029fa895576c82392cab34162cfa31"><div class="ttname"><a href="structt_car.html#ab5029fa895576c82392cab34162cfa31">tCar::engine</a></div><div class="ttdeci">tEngine engine</div><div class="ttdef"><b>Definition:</b> <a href="carstruct_8h_source.html#l00052">carstruct.h:52</a></div></div>
<div class="ttc" id="structt_engine_curve_elem_html_a43f811238f2fc12c5ba1bd80e0676869"><div class="ttname"><a href="structt_engine_curve_elem.html#a43f811238f2fc12c5ba1bd80e0676869">tEngineCurveElem::b</a></div><div class="ttdeci">tdble b</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00026">engine.h:26</a></div></div>
<div class="ttc" id="structt_engine_html_a18969ebaa13b8a557978b84d1998d3fe"><div class="ttname"><a href="structt_engine.html#a18969ebaa13b8a557978b84d1998d3fe">tEngine::pressure</a></div><div class="ttdeci">tdble pressure</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00050">engine.h:50</a></div></div>
<div class="ttc" id="structt_clutch_html_a6f8b49253a91efd7cd22087752b02e0c"><div class="ttname"><a href="structt_clutch.html#a6f8b49253a91efd7cd22087752b02e0c">tClutch::state</a></div><div class="ttdeci">int state</div><div class="ttdef"><b>Definition:</b> <a href="transmission_8h_source.html#l00038">transmission.h:38</a></div></div>
<div class="ttc" id="structt_engine_html_a8f66dbc3600aa088a1430451de3f961b"><div class="ttname"><a href="structt_engine.html#a8f66dbc3600aa088a1430451de3f961b">tEngine::rads</a></div><div class="ttdeci">tdble rads</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00046">engine.h:46</a></div></div>
<div class="ttc" id="structt_engine_curve_html_a708b9a4b6753b9bcf730ac58707a647a"><div class="ttname"><a href="structt_engine_curve.html#a708b9a4b6753b9bcf730ac58707a647a">tEngineCurve::data</a></div><div class="ttdeci">tEngineCurveElem * data</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00036">engine.h:36</a></div></div>
<div class="ttc" id="_distribution_8cpp_html_a5d688d70363408aef33fdb9bea5f7d50"><div class="ttname"><a href="_distribution_8cpp.html#a5d688d70363408aef33fdb9bea5f7d50">urandom</a></div><div class="ttdeci">real urandom()</div><div class="ttdef"><b>Definition:</b> <a href="_distribution_8cpp_source.html#l00023">Distribution.cpp:23</a></div></div>
<div class="ttc" id="car_8h_html_ab94ab296ea328c9e05170370ac8d6e5d"><div class="ttname"><a href="car_8h.html#ab94ab296ea328c9e05170370ac8d6e5d">PRM_INERTIA</a></div><div class="ttdeci">#define PRM_INERTIA</div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00515">car.h:515</a></div></div>
<div class="ttc" id="sim_8h_html"><div class="ttname"><a href="sim_8h.html">sim.h</a></div></div>
<div class="ttc" id="structt_transmission_html_ad1298aaafa0a4412d09eb3b7c2ca4801"><div class="ttname"><a href="structt_transmission.html#ad1298aaafa0a4412d09eb3b7c2ca4801">tTransmission::gearbox</a></div><div class="ttdeci">tGearbox gearbox</div><div class="ttdef"><b>Definition:</b> <a href="transmission_8h_source.html#l00052">transmission.h:52</a></div></div>
<div class="ttc" id="structt_engine_curve_html"><div class="ttname"><a href="structt_engine_curve.html">tEngineCurve</a></div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00029">engine.h:29</a></div></div>
<div class="ttc" id="car_8h_html_ab7299bdb9e8a9796d265c56eb60f12fb"><div class="ttname"><a href="car_8h.html#ab7299bdb9e8a9796d265c56eb60f12fb">PRM_TQ</a></div><div class="ttdeci">#define PRM_TQ</div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00572">car.h:572</a></div></div>
<div class="ttc" id="structt_engine_curve_elem_html_a9479daff3fad8d01047c95b1a8570be3"><div class="ttname"><a href="structt_engine_curve_elem.html#a9479daff3fad8d01047c95b1a8570be3">tEngineCurveElem::a</a></div><div class="ttdeci">tdble a</div><div class="ttdef"><b>Definition:</b> <a href="engine_8h_source.html#l00025">engine.h:25</a></div></div>
<div class="ttc" id="car_8h_html_a51cc3293646a0051a0ca91c774d0968a"><div class="ttname"><a href="car_8h.html#a51cc3293646a0051a0ca91c774d0968a">PRM_FUELCONS</a></div><div class="ttdeci">#define PRM_FUELCONS</div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00574">car.h:574</a></div></div>
<div class="ttc" id="structt_transmission_html_a7e3e8a681b41061d80f7042b2273a05b"><div class="ttname"><a href="structt_transmission.html#a7e3e8a681b41061d80f7042b2273a05b">tTransmission::curOverallRatio</a></div><div class="ttdeci">tdble curOverallRatio</div><div class="ttdef"><b>Definition:</b> <a href="transmission_8h_source.html#l00062">transmission.h:62</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_ddb4d7e95cc2d6c8e1ade10a20d7247d.html">modules</a></li><li class="navelem"><a class="el" href="dir_237931c8ca25dd4203e2b9adec5950be.html">simu</a></li><li class="navelem"><a class="el" href="dir_71e35f7fd2c517de446cb51ca88f779c.html">simuv2</a></li><li class="navelem"><a class="el" href="engine_8cpp.html">engine.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
