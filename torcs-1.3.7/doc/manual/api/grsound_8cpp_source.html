<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>TORCS: src/modules/graphic/ssggraph/grsound.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Ticon.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">TORCS
   &#160;<span id="projectnumber">1.3.7</span>
   </div>
   <div id="projectbrief">The Open Racing Car Simulator</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('grsound_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">grsound.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="grsound_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">    file                 : grsound.cpp</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">    created              : Thu Aug 17 23:57:10 CEST 2000</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">    copyright            : (C) 2000-2013 by Eric Espie, Christos Dimitrakakis, Bernhard Wymann</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">    email                : torcs@free.fr, dimitrak@idiap.ch</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">    version              : $Id: grsound.cpp,v 1.31.2.9 2014/01/12 11:35:35 berniw Exp $</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">***************************************************************************/</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/***************************************************************************</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *                                                                         *</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *   This program is free software; you can redistribute it and/or modify  *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *   it under1 the terms of the GNU General Public License as published by  *</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *   the Free Software Foundation; either version 2 of the License, or     *</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *   (at your option) any later version.                                   *</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *                                                                         *</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> ***************************************************************************/</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;math.h&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="tgfclient_8h.html">tgfclient.h</a>&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="graphic_8h.html">graphic.h</a>&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="car_8h.html">car.h</a>&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="portability_8h.html">portability.h</a>&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="grsound_8h.html">grsound.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="grmain_8h.html">grmain.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sound__defines_8h.html">sound_defines.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_sound_interface_8h.html">SoundInterface.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_car_sound_data_8h.html">CarSoundData.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="grsound_8cpp.html#a9fa93a6f3ff070bd9d598e00a50d163b">   35</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="grsound_8cpp.html#a9fa93a6f3ff070bd9d598e00a50d163b">soundInitialized</a> = 0;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="grsound_8cpp.html#afcbb9793f690037c8dcf1f9313434b82">   36</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="grsound_8cpp.html#afcbb9793f690037c8dcf1f9313434b82">lastUpdated</a>;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="grsound_8cpp.html#a3a32ed3efee191687f3ad519d30b6191">   38</a></span>&#160;<span class="keyword">static</span> <a class="code" href="class_sound_interface.html">SoundInterface</a>* <a class="code" href="grsound_8cpp.html#a3a32ed3efee191687f3ad519d30b6191">sound_interface</a> = NULL;</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="grsound_8cpp.html#ac7f068400cfe7d47eb0b7865ca47dea5">   39</a></span>&#160;<span class="keyword">static</span> <a class="code" href="class_car_sound_data.html">CarSoundData</a>** <a class="code" href="grsound_8cpp.html#ac7f068400cfe7d47eb0b7865ca47dea5">car_sound_data</a> = NULL;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3">   41</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3">SoundMode</a> {<a class="code" href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3a40f39385238042f6ec0cbac821a19fc4">DISABLED</a>, <a class="code" href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3afe9eb2282ba3de9f03915cde14f37088">OPENAL_MODE</a>, <a class="code" href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3ac65520f1ae4a066927471da23d91eafe">PLIB_MODE</a>};</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="grsound_8cpp.html#a19473e6335deb524cc496dd9805955ab">   43</a></span>&#160;<span class="keyword">static</span> <span class="keyword">enum</span> <a class="code" href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3">SoundMode</a> <a class="code" href="grsound_8cpp.html#a19473e6335deb524cc496dd9805955ab">sound_mode</a> = <a class="code" href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3afe9eb2282ba3de9f03915cde14f37088">OPENAL_MODE</a>;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="grsound_8h.html#a6f6eb996e67ae974592c0a1331b49e6c">   46</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="grsound_8cpp.html#a6f6eb996e67ae974592c0a1331b49e6c">grInitSound</a>(<a class="code" href="struct_situation.html">tSituation</a>* s, <span class="keywordtype">int</span> ncars)</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> BUFSIZE = 1024;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordtype">char</span> buf[BUFSIZE];</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="tgf_8h.html#a01d538db7300e67f7a55d4b6a8d3099e">GfOut</a>(<span class="stringliteral">&quot;-- grInitSound\n&quot;</span>);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="comment">// Check if we want sound (sound.xml).</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *soundDisabledStr = <a class="code" href="graphic_8h.html#a0dff0a093dcfe36f2f778ac1529472ad">GR_ATT_SOUND_STATE_DISABLED</a>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *soundOpenALStr = <a class="code" href="graphic_8h.html#aa3491644a42008a3a97d2b2f475d26b5">GR_ATT_SOUND_STATE_OPENAL</a>;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *soundPlibStr = <a class="code" href="graphic_8h.html#ad5a764aa1c6aaf168cf0fd9137f11248">GR_ATT_SOUND_STATE_PLIB</a>;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    snprintf(buf, BUFSIZE, <span class="stringliteral">&quot;%s%s&quot;</span>, <a class="code" href="tgf_8cpp.html#ae34eae3991aacabaf9c64025449d8c87">GetLocalDir</a>(), <a class="code" href="graphic_8h.html#acb72bebbed4f86c0827833f1b0fce1b0">GR_SOUND_PARM_CFG</a>);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordtype">void</span> *paramHandle = <a class="code" href="group__paramsfile.html#ga86fccfc1b5f8abf4ef6546896abd1e4f">GfParmReadFile</a>(buf, <a class="code" href="tgf_8h.html#a7d285efee20d8d159aeabbfaee2b13b2">GFPARM_RMODE_REREAD</a> | <a class="code" href="tgf_8h.html#a0f576f562dd507e44b84473296f42696">GFPARM_RMODE_CREAT</a>);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *optionName = <a class="code" href="group__paramsdata.html#gaa37bfd1fabd03d24fd50812c2330fa12">GfParmGetStr</a>(paramHandle, <a class="code" href="graphic_8h.html#a122d8620ad234c399fb89dad5e8c3a58">GR_SCT_SOUND</a>, <a class="code" href="graphic_8h.html#adb990abd095187e86d1f3e2befc53f64">GR_ATT_SOUND_STATE</a>, soundOpenALStr);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordtype">float</span> global_volume = <a class="code" href="group__paramsdata.html#ga57d6d6694c94482128c7b7bd6bf0a2e8">GfParmGetNum</a>(paramHandle, <a class="code" href="graphic_8h.html#a122d8620ad234c399fb89dad5e8c3a58">GR_SCT_SOUND</a>, <a class="code" href="graphic_8h.html#a1132cdbb9de1a523d7ced8ae53f8593b">GR_ATT_SOUND_VOLUME</a>, <span class="stringliteral">&quot;%&quot;</span>, 100.0f);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">if</span> (!strcmp(optionName, soundDisabledStr)) {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <a class="code" href="grsound_8cpp.html#a19473e6335deb524cc496dd9805955ab">sound_mode</a> = <a class="code" href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3a40f39385238042f6ec0cbac821a19fc4">DISABLED</a>;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(optionName, soundOpenALStr)) {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="grsound_8cpp.html#a19473e6335deb524cc496dd9805955ab">sound_mode</a> = <a class="code" href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3afe9eb2282ba3de9f03915cde14f37088">OPENAL_MODE</a>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(optionName, soundPlibStr)) {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="grsound_8cpp.html#a19473e6335deb524cc496dd9805955ab">sound_mode</a> = <a class="code" href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3ac65520f1ae4a066927471da23d91eafe">PLIB_MODE</a>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    }</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">//printf (&quot;vol:%f\n&quot;, global_volume);</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="group__paramsfile.html#ga1a1597d2697db41bcb9fdb64a6569761">GfParmReleaseHandle</a>(paramHandle);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    paramHandle = NULL;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="grsound_8cpp.html#afcbb9793f690037c8dcf1f9313434b82">lastUpdated</a> = -1000.0;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    </div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="grsound_8cpp.html#a19473e6335deb524cc496dd9805955ab">sound_mode</a>) {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3afe9eb2282ba3de9f03915cde14f37088">OPENAL_MODE</a>:</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="keywordflow">try</span> {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            sound_interface = <span class="keyword">new</span> <a class="code" href="class_openal_sound_interface.html">OpenalSoundInterface</a> (44100, 32);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        } <span class="keywordflow">catch</span> (<span class="keyword">const</span> <span class="keywordtype">char</span>* err) {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <a class="code" href="tgf_8h.html#af1d9a25be7ed0fee89f821959e85f118">GfError</a>(<span class="stringliteral">&quot;Disabling Sound: OpenAL initialisation failed: %s\n&quot;</span>, err ? err : <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <a class="code" href="grsound_8cpp.html#a19473e6335deb524cc496dd9805955ab">sound_mode</a> = <a class="code" href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3a40f39385238042f6ec0cbac821a19fc4">DISABLED</a>;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3ac65520f1ae4a066927471da23d91eafe">PLIB_MODE</a>:</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        sound_interface = <span class="keyword">new</span> <a class="code" href="class_plib_sound_interface.html">PlibSoundInterface</a>(44100, 32);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3a40f39385238042f6ec0cbac821a19fc4">DISABLED</a>:</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        sound_interface = 0;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <a class="code" href="tgf_8h.html#a01d538db7300e67f7a55d4b6a8d3099e">GfOut</a> (<span class="stringliteral">&quot; -- Unknown sound mode %d\n&quot;</span>, <a class="code" href="grsound_8cpp.html#a19473e6335deb524cc496dd9805955ab">sound_mode</a>);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        exit(-1);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    }</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    sound_interface-&gt;<a class="code" href="class_sound_interface.html#a6dac9388595cfad6c54daa41a3909fff">setGlobalGain</a>(global_volume/100.0f);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    car_sound_data = <span class="keyword">new</span> <a class="code" href="class_car_sound_data.html">CarSoundData</a>* [ncars];</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">for</span> (i = 0; i&lt;ncars; i++) {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordtype">void</span>* handle = s-&gt;<a class="code" href="struct_situation.html#a614d3570937555bc8a7783bc90f0095a">cars</a>[i]-&gt;_carHandle;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <a class="code" href="struct_car_elt.html">tCarElt</a> *car = s-&gt;<a class="code" href="struct_situation.html#a614d3570937555bc8a7783bc90f0095a">cars</a>[i];</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="structparam.html">param</a>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        FILE *file = NULL;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="comment">// ENGINE PARAMS</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <a class="code" href="group__definitions.html#ga86c7fbd6697e2e7eb770c72e91a44957">tdble</a> rpm_scale;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        param = <a class="code" href="group__paramsdata.html#gaa37bfd1fabd03d24fd50812c2330fa12">GfParmGetStr</a>(handle, <span class="stringliteral">&quot;Sound&quot;</span>, <span class="stringliteral">&quot;engine sample&quot;</span>, <span class="stringliteral">&quot;engine-1.wav&quot;</span>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        rpm_scale = <a class="code" href="group__paramsdata.html#ga57d6d6694c94482128c7b7bd6bf0a2e8">GfParmGetNum</a>(handle, <span class="stringliteral">&quot;Sound&quot;</span>, <span class="stringliteral">&quot;rpm scale&quot;</span>, NULL, 1.0);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        snprintf (buf, BUFSIZE, <span class="stringliteral">&quot;cars/%s/%s&quot;</span>, car-&gt;_carName, param);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        file = fopen(buf, <span class="stringliteral">&quot;r&quot;</span>);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">if</span> (!file)</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            snprintf (buf, BUFSIZE, <span class="stringliteral">&quot;data/sound/%s&quot;</span>, param);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            fclose(file);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        car_sound_data[car-&gt;<a class="code" href="struct_car_elt.html#ab0547230f49162fc20b7ad93307801a7">index</a>] = <span class="keyword">new</span> <a class="code" href="class_car_sound_data.html">CarSoundData</a> (car-&gt;<a class="code" href="struct_car_elt.html#ab0547230f49162fc20b7ad93307801a7">index</a>, sound_interface);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <a class="code" href="class_torcs_sound.html">TorcsSound</a>* engine_sound = sound_interface-&gt;<a class="code" href="class_sound_interface.html#a1fe3589a8c914f14935d59f1f392d38c">addSample</a>(buf, <a class="code" href="sound__defines_8h.html#ab53e3914335f77dc9f4ce579f9268bdb">ACTIVE_VOLUME</a> | <a class="code" href="sound__defines_8h.html#a8eca3763420842326b8491ec8ed7ecbe">ACTIVE_PITCH</a> | <a class="code" href="sound__defines_8h.html#a5bc1849864dd36ce935c03d62bebf208">ACTIVE_LP_FILTER</a>, <span class="keyword">true</span>, <span class="keyword">false</span>);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        car_sound_data[i]-&gt;<a class="code" href="class_car_sound_data.html#a6030d847a93b6259d15cf47ccab66929">setEngineSound</a> (engine_sound, rpm_scale);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="comment">// TURBO PARAMS</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordtype">float</span> default_turbo_rpm = 100.0f;<span class="comment">//0.5f*car-&gt;_enginerpmMaxTq;</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordtype">bool</span> turbo_on;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        param = <a class="code" href="group__paramsdata.html#gaa37bfd1fabd03d24fd50812c2330fa12">GfParmGetStr</a>(handle, <a class="code" href="car_8h.html#a9d923dce9c0456d4a199d23378b2e77d">SECT_ENGINE</a>, <a class="code" href="car_8h.html#a4f8a9048e8633a6ec48221b7b0a8ba1d">PRM_TURBO</a>, <span class="stringliteral">&quot;false&quot;</span>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">if</span> (!strcmp(param, <span class="stringliteral">&quot;true&quot;</span>)) {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            turbo_on = <span class="keyword">true</span>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="keywordflow">if</span> (strcmp(param, <span class="stringliteral">&quot;false&quot;</span>)) {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                fprintf (stderr, <span class="stringliteral">&quot;expected true or false, found %s\n&quot;</span>, param);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            turbo_on = <span class="keyword">false</span>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        </div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordtype">float</span> turbo_rpm = <a class="code" href="group__paramsdata.html#ga57d6d6694c94482128c7b7bd6bf0a2e8">GfParmGetNum</a>(handle, <a class="code" href="car_8h.html#a9d923dce9c0456d4a199d23378b2e77d">SECT_ENGINE</a>, <a class="code" href="car_8h.html#a117d86bab22e5acc97827241b997cfe9">PRM_TURBO_RPM</a>, NULL, default_turbo_rpm);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordtype">float</span> turbo_lag = <a class="code" href="group__paramsdata.html#ga57d6d6694c94482128c7b7bd6bf0a2e8">GfParmGetNum</a>(handle, <a class="code" href="car_8h.html#a9d923dce9c0456d4a199d23378b2e77d">SECT_ENGINE</a>, <a class="code" href="car_8h.html#a89345c19fc96f2efac795f299b6f90e9">PRM_TURBO_LAG</a>, NULL, 1.0f);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        car_sound_data[i]-&gt;<a class="code" href="class_car_sound_data.html#a6502e792304832ac9e2c4f1bcb2f559a">setTurboParameters</a> (turbo_on, turbo_rpm, turbo_lag);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    </div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    sound_interface-&gt;<a class="code" href="class_sound_interface.html#a39d4de02ca2bdcd91c826631a5b84911">setSkidSound</a>(<span class="stringliteral">&quot;data/sound/skid_tyres.wav&quot;</span>);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    sound_interface-&gt;<a class="code" href="class_sound_interface.html#aedd58e9d4ef908896d252c4369c20451">setRoadRideSound</a>(<span class="stringliteral">&quot;data/sound/road-ride.wav&quot;</span>);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    sound_interface-&gt;<a class="code" href="class_sound_interface.html#a11750e72edfef96b4c16804ee931f7f4">setGrassRideSound</a>(<span class="stringliteral">&quot;data/sound/out_of_road.wav&quot;</span>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    sound_interface-&gt;<a class="code" href="class_sound_interface.html#aaf9cc27b03b72521b47af474c7ba3bc3">setGrassSkidSound</a>(<span class="stringliteral">&quot;data/sound/out_of_road-3.wav&quot;</span>);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    sound_interface-&gt;<a class="code" href="class_sound_interface.html#acb781c32313e7567f4f17dff67f838e6">setMetalSkidSound</a>(<span class="stringliteral">&quot;data/sound/skid_metal.wav&quot;</span>);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    sound_interface-&gt;<a class="code" href="class_sound_interface.html#ab08eb9e8187484d3cd4cb7140f0eb1df">setAxleSound</a>(<span class="stringliteral">&quot;data/sound/axle.wav&quot;</span>);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    sound_interface-&gt;<a class="code" href="class_sound_interface.html#a6f026f20a05f645f8be3999beeda931f">setTurboSound</a>(<span class="stringliteral">&quot;data/sound/turbo1.wav&quot;</span>);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    sound_interface-&gt;<a class="code" href="class_sound_interface.html#add6c0c5deec2e4538e3099e92000f79a">setBackfireLoopSound</a>(<span class="stringliteral">&quot;data/sound/backfire_loop.wav&quot;</span>);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="sound__defines_8h.html#a90c7c5a232f21e5ad552b0f8d37a2c40">NB_CRASH_SOUND</a>; i++) {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        snprintf(buf, BUFSIZE, <span class="stringliteral">&quot;data/sound/crash%d.wav&quot;</span>, i+1);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        sound_interface-&gt;<a class="code" href="class_sound_interface.html#a1ee50ec5725038caed78172d92388f68">setCrashSound</a>(buf, i);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    sound_interface-&gt;<a class="code" href="class_sound_interface.html#a122d470eaf73bc343c720be2c7b7f028">setBangSound</a>(<span class="stringliteral">&quot;data/sound/boom.wav&quot;</span>);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    sound_interface-&gt;<a class="code" href="class_sound_interface.html#a195da8f5fb7991e1c25c53c50cdd4747">setBottomCrashSound</a>(<span class="stringliteral">&quot;data/sound/bottom_crash.wav&quot;</span>);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    sound_interface-&gt;<a class="code" href="class_sound_interface.html#ac39eb5d36fe2297cc287e7b46cf260f2">setBackfireSound</a>(<span class="stringliteral">&quot;data/sound/backfire.wav&quot;</span>);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    sound_interface-&gt;<a class="code" href="class_sound_interface.html#a4479afa58d38fd73d37b7f264f41e0e6">setGearChangeSound</a>(<span class="stringliteral">&quot;data/sound/gear_change1.wav&quot;</span>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    sound_interface-&gt;<a class="code" href="class_sound_interface.html#a0d89a5d4743059172db0cb09d4b146f5">setNCars</a>(ncars);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="grsound_8cpp.html#a9fa93a6f3ff070bd9d598e00a50d163b">soundInitialized</a> = 1;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">// Must happen after all static non-shared have been allocated. </span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    sound_interface-&gt;<a class="code" href="class_sound_interface.html#a98763fc9e1ad11274adfdbd4672bf1da">initSharedSourcePool</a>();</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="keywordtype">void</span> </div><div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="grsound_8h.html#adc35d88b9c87621f1829a11c53b73941">  172</a></span>&#160;<a class="code" href="grsound_8cpp.html#adc35d88b9c87621f1829a11c53b73941">grShutdownSound</a>(<span class="keywordtype">int</span> ncars)</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="tgf_8h.html#a01d538db7300e67f7a55d4b6a8d3099e">GfOut</a>(<span class="stringliteral">&quot;-- grShutdownSound\n&quot;</span>);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="grsound_8cpp.html#a19473e6335deb524cc496dd9805955ab">sound_mode</a> == <a class="code" href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3a40f39385238042f6ec0cbac821a19fc4">DISABLED</a>) {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; ncars; i++) {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keyword">delete</span> car_sound_data[i];</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    </div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keyword">delete</span> [] <a class="code" href="grsound_8cpp.html#ac7f068400cfe7d47eb0b7865ca47dea5">car_sound_data</a>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    </div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="grsound_8cpp.html#a9fa93a6f3ff070bd9d598e00a50d163b">soundInitialized</a>) {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="grsound_8cpp.html#a9fa93a6f3ff070bd9d598e00a50d163b">soundInitialized</a> = 0;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keyword">delete</span> <a class="code" href="grsound_8cpp.html#a3a32ed3efee191687f3ad519d30b6191">sound_interface</a>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    sound_interface = 0;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">if</span> (__slPendingError) {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <a class="code" href="tgf_8h.html#a01d538db7300e67f7a55d4b6a8d3099e">GfOut</a>(<span class="stringliteral">&quot;!!! error ignored: %s\n&quot;</span>, __slPendingError);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        __slPendingError = 0;   <span class="comment">/* ARG!!! ugly ugly bad thing... but should not occur anymore now */</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="keywordtype">float</span></div><div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="grsound_8h.html#a5dc7c1085cded91d5fa15daafc7f79d6">  204</a></span>&#160;<a class="code" href="grsound_8cpp.html#a5dc7c1085cded91d5fa15daafc7f79d6">grRefreshSound</a>(<a class="code" href="struct_situation.html">tSituation</a> *s, <a class="code" href="classc_gr_camera.html">cGrCamera</a> *camera)</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;{</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="grsound_8cpp.html#a19473e6335deb524cc496dd9805955ab">sound_mode</a> == <a class="code" href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3a40f39385238042f6ec0cbac821a19fc4">DISABLED</a>) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">return</span> 0.0f;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">// Update sound at most 50 times a second.</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> UPDATE_DT = 0.02;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span> (s-&gt;<a class="code" href="struct_situation.html#abac1908137b0ccb513c526e420e0a19a">currentTime</a> - <a class="code" href="grsound_8cpp.html#afcbb9793f690037c8dcf1f9313434b82">lastUpdated</a> &lt; UPDATE_DT) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">return</span> 0.0f;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="grsound_8cpp.html#afcbb9793f690037c8dcf1f9313434b82">lastUpdated</a> = s-&gt;<a class="code" href="struct_situation.html#abac1908137b0ccb513c526e420e0a19a">currentTime</a>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <a class="code" href="struct_car_elt.html">tCarElt</a> *car;<span class="comment">//= s-&gt;cars[s-&gt;current];</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">// TODO: Fix for a lot of cars. I guess in this implementation we can change the Update() call to have _ncars = 1?</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">// TODO: Just consider cars near the camera, doing computations  just for them?</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">if</span> (camera) {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        sgVec3* p_camera = camera-&gt;<a class="code" href="classc_gr_camera.html#a3e7f5694160c0c854ec51054b5a8e8fe">getPosv</a>();</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        sgVec3* u_camera = camera-&gt;<a class="code" href="classc_gr_camera.html#a175318658d2394a9b800269390c958c3">getSpeedv</a>();</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        sgVec3 c_camera;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        sgVec3* a_camera = camera-&gt;<a class="code" href="classc_gr_camera.html#a63f584d19860098752beed106fdb5e2b">getUpv</a>();</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">for</span> (i = 0; i&lt;3; i++) {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            c_camera[i] = (*camera-&gt;<a class="code" href="classc_gr_camera.html#a32dc291fb0ab3cb10470ba5bca005f7b">getCenterv</a>())[i] - (*camera-&gt;<a class="code" href="classc_gr_camera.html#a3e7f5694160c0c854ec51054b5a8e8fe">getPosv</a>())[i];</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="comment">//sgNormaliseVec3 (c_camera);</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; s-&gt;_ncars; i++) {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            car = s-&gt;<a class="code" href="struct_situation.html#a614d3570937555bc8a7783bc90f0095a">cars</a>[i];</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            car_sound_data[car-&gt;<a class="code" href="struct_car_elt.html#ab0547230f49162fc20b7ad93307801a7">index</a>]-&gt;<a class="code" href="class_car_sound_data.html#a5e8f6a53c56b749b411475e433a7b053">setListenerPosition</a>(*p_camera);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            car_sound_data[car-&gt;<a class="code" href="struct_car_elt.html#ab0547230f49162fc20b7ad93307801a7">index</a>]-&gt;<a class="code" href="class_car_sound_data.html#adc8d7d71ba960539392587d2413541aa">update</a>(car);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        sound_interface-&gt;<a class="code" href="class_sound_interface.html#a8d9133c2ff67133ec54b3266a97d555f">update</a> (car_sound_data, s-&gt;_ncars, *p_camera, *u_camera, c_camera, *a_camera);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">return</span> 0.0f;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="grsound_8h.html#ad87323c1f5f322427a04b2ffc3bc7e97">  250</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="grsound_8cpp.html#ad87323c1f5f322427a04b2ffc3bc7e97">grMuteForMenu</a>(<span class="keywordtype">void</span>)</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;{</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">if</span> (sound_interface != 0 &amp;&amp; <a class="code" href="grsound_8cpp.html#a19473e6335deb524cc496dd9805955ab">sound_mode</a> != <a class="code" href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3a40f39385238042f6ec0cbac821a19fc4">DISABLED</a>) {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        sound_interface-&gt;<a class="code" href="class_sound_interface.html#a583eefdf16eddf0056a7a9a66fbf6268">muteForMenu</a>();</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    }</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div><div class="ttc" id="class_sound_interface_html_ac39eb5d36fe2297cc287e7b46cf260f2"><div class="ttname"><a href="class_sound_interface.html#ac39eb5d36fe2297cc287e7b46cf260f2">SoundInterface::setBackfireSound</a></div><div class="ttdeci">void setBackfireSound(const char *sound_name)</div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00206">SoundInterface.h:206</a></div></div>
<div class="ttc" id="car_8h_html_a4f8a9048e8633a6ec48221b7b0a8ba1d"><div class="ttname"><a href="car_8h.html#a4f8a9048e8633a6ec48221b7b0a8ba1d">PRM_TURBO</a></div><div class="ttdeci">#define PRM_TURBO</div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00577">car.h:577</a></div></div>
<div class="ttc" id="car_8h_html_a117d86bab22e5acc97827241b997cfe9"><div class="ttname"><a href="car_8h.html#a117d86bab22e5acc97827241b997cfe9">PRM_TURBO_RPM</a></div><div class="ttdeci">#define PRM_TURBO_RPM</div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00578">car.h:578</a></div></div>
<div class="ttc" id="tgf_8h_html_af1d9a25be7ed0fee89f821959e85f118"><div class="ttname"><a href="tgf_8h.html#af1d9a25be7ed0fee89f821959e85f118">GfError</a></div><div class="ttdeci">#define GfError</div><div class="ttdef"><b>Definition:</b> <a href="tgf_8h_source.html#l00355">tgf.h:355</a></div></div>
<div class="ttc" id="class_sound_interface_html_aedd58e9d4ef908896d252c4369c20451"><div class="ttname"><a href="class_sound_interface.html#aedd58e9d4ef908896d252c4369c20451">SoundInterface::setRoadRideSound</a></div><div class="ttdeci">void setRoadRideSound(const char *sound_name)</div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00152">SoundInterface.h:152</a></div></div>
<div class="ttc" id="class_openal_sound_interface_html"><div class="ttname"><a href="class_openal_sound_interface.html">OpenalSoundInterface</a></div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00273">SoundInterface.h:273</a></div></div>
<div class="ttc" id="class_car_sound_data_html_a5e8f6a53c56b749b411475e433a7b053"><div class="ttname"><a href="class_car_sound_data.html#a5e8f6a53c56b749b411475e433a7b053">CarSoundData::setListenerPosition</a></div><div class="ttdeci">void setListenerPosition(sgVec3 p)</div><div class="ttdef"><b>Definition:</b> <a href="_car_sound_data_8h_source.html#l00089">CarSoundData.h:89</a></div></div>
<div class="ttc" id="struct_situation_html_abac1908137b0ccb513c526e420e0a19a"><div class="ttname"><a href="struct_situation.html#abac1908137b0ccb513c526e420e0a19a">Situation::currentTime</a></div><div class="ttdeci">double currentTime</div><div class="ttdoc">current time in sec since the beginning of the simulation </div><div class="ttdef"><b>Definition:</b> <a href="raceman_8h_source.html#l00088">raceman.h:88</a></div></div>
<div class="ttc" id="_car_sound_data_8h_html"><div class="ttname"><a href="_car_sound_data_8h.html">CarSoundData.h</a></div></div>
<div class="ttc" id="group__paramsfile_html_ga86fccfc1b5f8abf4ef6546896abd1e4f"><div class="ttname"><a href="group__paramsfile.html#ga86fccfc1b5f8abf4ef6546896abd1e4f">GfParmReadFile</a></div><div class="ttdeci">void * GfParmReadFile(const char *file, int mode)</div><div class="ttdoc">Read parameter set from file and return handle to parameter set. </div><div class="ttdef"><b>Definition:</b> <a href="params_8cpp_source.html#l01157">params.cpp:1157</a></div></div>
<div class="ttc" id="struct_situation_html"><div class="ttname"><a href="struct_situation.html">Situation</a></div><div class="ttdoc">cars situation used to inform the GUI and the drivers </div><div class="ttdef"><b>Definition:</b> <a href="raceman_8h_source.html#l00085">raceman.h:85</a></div></div>
<div class="ttc" id="class_sound_interface_html_a39d4de02ca2bdcd91c826631a5b84911"><div class="ttname"><a href="class_sound_interface.html#a39d4de02ca2bdcd91c826631a5b84911">SoundInterface::setSkidSound</a></div><div class="ttdeci">void setSkidSound(const char *sound_name)</div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00144">SoundInterface.h:144</a></div></div>
<div class="ttc" id="_sound_interface_8h_html"><div class="ttname"><a href="_sound_interface_8h.html">SoundInterface.h</a></div></div>
<div class="ttc" id="grsound_8cpp_html_ac7f068400cfe7d47eb0b7865ca47dea5"><div class="ttname"><a href="grsound_8cpp.html#ac7f068400cfe7d47eb0b7865ca47dea5">car_sound_data</a></div><div class="ttdeci">static CarSoundData ** car_sound_data</div><div class="ttdef"><b>Definition:</b> <a href="grsound_8cpp_source.html#l00039">grsound.cpp:39</a></div></div>
<div class="ttc" id="class_sound_interface_html_a8d9133c2ff67133ec54b3266a97d555f"><div class="ttname"><a href="class_sound_interface.html#a8d9133c2ff67133ec54b3266a97d555f">SoundInterface::update</a></div><div class="ttdeci">virtual void update(CarSoundData **car_sound_data, int n_cars, sgVec3 p_obs, sgVec3 u_obs, sgVec3 c_obs=NULL, sgVec3 a_obs=NULL)</div><div class="ttdoc">Update sound for a given observer. </div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00218">SoundInterface.h:218</a></div></div>
<div class="ttc" id="struct_situation_html_a614d3570937555bc8a7783bc90f0095a"><div class="ttname"><a href="struct_situation.html#a614d3570937555bc8a7783bc90f0095a">Situation::cars</a></div><div class="ttdeci">tCarElt ** cars</div><div class="ttdoc">list of cars </div><div class="ttdef"><b>Definition:</b> <a href="raceman_8h_source.html#l00090">raceman.h:90</a></div></div>
<div class="ttc" id="class_sound_interface_html_ab08eb9e8187484d3cd4cb7140f0eb1df"><div class="ttname"><a href="class_sound_interface.html#ab08eb9e8187484d3cd4cb7140f0eb1df">SoundInterface::setAxleSound</a></div><div class="ttdeci">void setAxleSound(const char *sound_name)</div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00172">SoundInterface.h:172</a></div></div>
<div class="ttc" id="grsound_8cpp_html_ad87323c1f5f322427a04b2ffc3bc7e97"><div class="ttname"><a href="grsound_8cpp.html#ad87323c1f5f322427a04b2ffc3bc7e97">grMuteForMenu</a></div><div class="ttdeci">void grMuteForMenu(void)</div><div class="ttdef"><b>Definition:</b> <a href="grsound_8cpp_source.html#l00250">grsound.cpp:250</a></div></div>
<div class="ttc" id="classc_gr_camera_html_a175318658d2394a9b800269390c958c3"><div class="ttname"><a href="classc_gr_camera.html#a175318658d2394a9b800269390c958c3">cGrCamera::getSpeedv</a></div><div class="ttdeci">sgVec3 * getSpeedv(void)</div><div class="ttdef"><b>Definition:</b> <a href="grcam_8h_source.html#l00101">grcam.h:101</a></div></div>
<div class="ttc" id="struct_car_elt_html"><div class="ttname"><a href="struct_car_elt.html">CarElt</a></div><div class="ttdoc">Car structure (tCarElt). </div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00445">car.h:445</a></div></div>
<div class="ttc" id="tgf_8cpp_html_ae34eae3991aacabaf9c64025449d8c87"><div class="ttname"><a href="tgf_8cpp.html#ae34eae3991aacabaf9c64025449d8c87">GetLocalDir</a></div><div class="ttdeci">char * GetLocalDir(void)</div><div class="ttdef"><b>Definition:</b> <a href="tgf_8cpp_source.html#l00231">tgf.cpp:231</a></div></div>
<div class="ttc" id="group__paramsfile_html_ga1a1597d2697db41bcb9fdb64a6569761"><div class="ttname"><a href="group__paramsfile.html#ga1a1597d2697db41bcb9fdb64a6569761">GfParmReleaseHandle</a></div><div class="ttdeci">void GfParmReleaseHandle(void *parmHandle)</div><div class="ttdoc">Release given parameter set handle parmHandle. </div><div class="ttdef"><b>Definition:</b> <a href="params_8cpp_source.html#l01834">params.cpp:1834</a></div></div>
<div class="ttc" id="class_sound_interface_html_a1fe3589a8c914f14935d59f1f392d38c"><div class="ttname"><a href="class_sound_interface.html#a1fe3589a8c914f14935d59f1f392d38c">SoundInterface::addSample</a></div><div class="ttdeci">virtual TorcsSound * addSample(const char *filename, int flags=(ACTIVE_VOLUME|ACTIVE_PITCH), bool loop=false, bool static_pool=true)=0</div><div class="ttdoc">Add a new sample - must be defined in children classes. </div></div>
<div class="ttc" id="grsound_8cpp_html_a6f6eb996e67ae974592c0a1331b49e6c"><div class="ttname"><a href="grsound_8cpp.html#a6f6eb996e67ae974592c0a1331b49e6c">grInitSound</a></div><div class="ttdeci">void grInitSound(tSituation *s, int ncars)</div><div class="ttdef"><b>Definition:</b> <a href="grsound_8cpp_source.html#l00046">grsound.cpp:46</a></div></div>
<div class="ttc" id="graphic_8h_html_a122d8620ad234c399fb89dad5e8c3a58"><div class="ttname"><a href="graphic_8h.html#a122d8620ad234c399fb89dad5e8c3a58">GR_SCT_SOUND</a></div><div class="ttdeci">#define GR_SCT_SOUND</div><div class="ttdef"><b>Definition:</b> <a href="graphic_8h_source.html#l00045">graphic.h:45</a></div></div>
<div class="ttc" id="grsound_8cpp_html_adc35d88b9c87621f1829a11c53b73941"><div class="ttname"><a href="grsound_8cpp.html#adc35d88b9c87621f1829a11c53b73941">grShutdownSound</a></div><div class="ttdeci">void grShutdownSound(int ncars)</div><div class="ttdef"><b>Definition:</b> <a href="grsound_8cpp_source.html#l00172">grsound.cpp:172</a></div></div>
<div class="ttc" id="class_car_sound_data_html_a6030d847a93b6259d15cf47ccab66929"><div class="ttname"><a href="class_car_sound_data.html#a6030d847a93b6259d15cf47ccab66929">CarSoundData::setEngineSound</a></div><div class="ttdeci">void setEngineSound(TorcsSound *engine_sound, float rpm_scale)</div><div class="ttdef"><b>Definition:</b> <a href="_car_sound_data_8cpp_source.html#l00083">CarSoundData.cpp:83</a></div></div>
<div class="ttc" id="class_sound_interface_html_a122d470eaf73bc343c720be2c7b7f028"><div class="ttname"><a href="class_sound_interface.html#a122d470eaf73bc343c720be2c7b7f028">SoundInterface::setBangSound</a></div><div class="ttdeci">void setBangSound(const char *sound_name)</div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00194">SoundInterface.h:194</a></div></div>
<div class="ttc" id="grmain_8h_html"><div class="ttname"><a href="grmain_8h.html">grmain.h</a></div></div>
<div class="ttc" id="sound__defines_8h_html_a5bc1849864dd36ce935c03d62bebf208"><div class="ttname"><a href="sound__defines_8h.html#a5bc1849864dd36ce935c03d62bebf208">ACTIVE_LP_FILTER</a></div><div class="ttdeci">#define ACTIVE_LP_FILTER</div><div class="ttdef"><b>Definition:</b> <a href="sound__defines_8h_source.html#l00016">sound_defines.h:16</a></div></div>
<div class="ttc" id="class_car_sound_data_html"><div class="ttname"><a href="class_car_sound_data.html">CarSoundData</a></div><div class="ttdoc">Manages the source sound of each individual car. </div><div class="ttdef"><b>Definition:</b> <a href="_car_sound_data_8h_source.html#l00026">CarSoundData.h:26</a></div></div>
<div class="ttc" id="class_sound_interface_html_aaf9cc27b03b72521b47af474c7ba3bc3"><div class="ttname"><a href="class_sound_interface.html#aaf9cc27b03b72521b47af474c7ba3bc3">SoundInterface::setGrassSkidSound</a></div><div class="ttdeci">void setGrassSkidSound(const char *sound_name)</div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00162">SoundInterface.h:162</a></div></div>
<div class="ttc" id="portability_8h_html"><div class="ttname"><a href="portability_8h.html">portability.h</a></div></div>
<div class="ttc" id="class_sound_interface_html_a6f026f20a05f645f8be3999beeda931f"><div class="ttname"><a href="class_sound_interface.html#a6f026f20a05f645f8be3999beeda931f">SoundInterface::setTurboSound</a></div><div class="ttdeci">void setTurboSound(const char *sound_name)</div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00177">SoundInterface.h:177</a></div></div>
<div class="ttc" id="class_sound_interface_html_add6c0c5deec2e4538e3099e92000f79a"><div class="ttname"><a href="class_sound_interface.html#add6c0c5deec2e4538e3099e92000f79a">SoundInterface::setBackfireLoopSound</a></div><div class="ttdeci">void setBackfireLoopSound(const char *sound_name)</div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00182">SoundInterface.h:182</a></div></div>
<div class="ttc" id="graphic_8h_html_a0dff0a093dcfe36f2f778ac1529472ad"><div class="ttname"><a href="graphic_8h.html#a0dff0a093dcfe36f2f778ac1529472ad">GR_ATT_SOUND_STATE_DISABLED</a></div><div class="ttdeci">#define GR_ATT_SOUND_STATE_DISABLED</div><div class="ttdef"><b>Definition:</b> <a href="graphic_8h_source.html#l00049">graphic.h:49</a></div></div>
<div class="ttc" id="group__paramsdata_html_gaa37bfd1fabd03d24fd50812c2330fa12"><div class="ttname"><a href="group__paramsdata.html#gaa37bfd1fabd03d24fd50812c2330fa12">GfParmGetStr</a></div><div class="ttdeci">const char * GfParmGetStr(void *parmHandle, const char *path, const char *key, const char *deflt)</div><div class="ttdoc">Get a string parameter from the parameter set handle. </div><div class="ttdef"><b>Definition:</b> <a href="params_8cpp_source.html#l02311">params.cpp:2311</a></div></div>
<div class="ttc" id="grsound_8cpp_html_afcbb9793f690037c8dcf1f9313434b82"><div class="ttname"><a href="grsound_8cpp.html#afcbb9793f690037c8dcf1f9313434b82">lastUpdated</a></div><div class="ttdeci">static double lastUpdated</div><div class="ttdef"><b>Definition:</b> <a href="grsound_8cpp_source.html#l00036">grsound.cpp:36</a></div></div>
<div class="ttc" id="tgfclient_8h_html"><div class="ttname"><a href="tgfclient_8h.html">tgfclient.h</a></div><div class="ttdoc">The Gaming Framework API (client part). </div></div>
<div class="ttc" id="class_sound_interface_html_acb781c32313e7567f4f17dff67f838e6"><div class="ttname"><a href="class_sound_interface.html#acb781c32313e7567f4f17dff67f838e6">SoundInterface::setMetalSkidSound</a></div><div class="ttdeci">void setMetalSkidSound(const char *sound_name)</div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00167">SoundInterface.h:167</a></div></div>
<div class="ttc" id="grsound_8cpp_html_a0f69cf19c6170eab0daeb7bbd43f9ea3afe9eb2282ba3de9f03915cde14f37088"><div class="ttname"><a href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3afe9eb2282ba3de9f03915cde14f37088">OPENAL_MODE</a></div><div class="ttdef"><b>Definition:</b> <a href="grsound_8cpp_source.html#l00041">grsound.cpp:41</a></div></div>
<div class="ttc" id="group__definitions_html_ga86c7fbd6697e2e7eb770c72e91a44957"><div class="ttname"><a href="group__definitions.html#ga86c7fbd6697e2e7eb770c72e91a44957">tdble</a></div><div class="ttdeci">float tdble</div><div class="ttdoc">Floating point type used in TORCS. </div><div class="ttdef"><b>Definition:</b> <a href="tgf_8h_source.html#l00049">tgf.h:49</a></div></div>
<div class="ttc" id="graphic_8h_html_acb72bebbed4f86c0827833f1b0fce1b0"><div class="ttname"><a href="graphic_8h.html#acb72bebbed4f86c0827833f1b0fce1b0">GR_SOUND_PARM_CFG</a></div><div class="ttdeci">#define GR_SOUND_PARM_CFG</div><div class="ttdef"><b>Definition:</b> <a href="graphic_8h_source.html#l00044">graphic.h:44</a></div></div>
<div class="ttc" id="tgf_8h_html_a01d538db7300e67f7a55d4b6a8d3099e"><div class="ttname"><a href="tgf_8h.html#a01d538db7300e67f7a55d4b6a8d3099e">GfOut</a></div><div class="ttdeci">#define GfOut</div><div class="ttdef"><b>Definition:</b> <a href="tgf_8h_source.html#l00377">tgf.h:377</a></div></div>
<div class="ttc" id="tgf_8h_html_a7d285efee20d8d159aeabbfaee2b13b2"><div class="ttname"><a href="tgf_8h.html#a7d285efee20d8d159aeabbfaee2b13b2">GFPARM_RMODE_REREAD</a></div><div class="ttdeci">#define GFPARM_RMODE_REREAD</div><div class="ttdoc">reread the parameters from file and release the previous ones </div><div class="ttdef"><b>Definition:</b> <a href="tgf_8h_source.html#l00270">tgf.h:270</a></div></div>
<div class="ttc" id="sound__defines_8h_html_ab53e3914335f77dc9f4ce579f9268bdb"><div class="ttname"><a href="sound__defines_8h.html#ab53e3914335f77dc9f4ce579f9268bdb">ACTIVE_VOLUME</a></div><div class="ttdeci">#define ACTIVE_VOLUME</div><div class="ttdef"><b>Definition:</b> <a href="sound__defines_8h_source.html#l00014">sound_defines.h:14</a></div></div>
<div class="ttc" id="graphic_8h_html"><div class="ttname"><a href="graphic_8h.html">graphic.h</a></div><div class="ttdoc">Graphic Module Interface Definition. </div></div>
<div class="ttc" id="grsound_8cpp_html_a5dc7c1085cded91d5fa15daafc7f79d6"><div class="ttname"><a href="grsound_8cpp.html#a5dc7c1085cded91d5fa15daafc7f79d6">grRefreshSound</a></div><div class="ttdeci">float grRefreshSound(tSituation *s, cGrCamera *camera)</div><div class="ttdef"><b>Definition:</b> <a href="grsound_8cpp_source.html#l00204">grsound.cpp:204</a></div></div>
<div class="ttc" id="graphic_8h_html_a1132cdbb9de1a523d7ced8ae53f8593b"><div class="ttname"><a href="graphic_8h.html#a1132cdbb9de1a523d7ced8ae53f8593b">GR_ATT_SOUND_VOLUME</a></div><div class="ttdeci">#define GR_ATT_SOUND_VOLUME</div><div class="ttdef"><b>Definition:</b> <a href="graphic_8h_source.html#l00050">graphic.h:50</a></div></div>
<div class="ttc" id="classc_gr_camera_html"><div class="ttname"><a href="classc_gr_camera.html">cGrCamera</a></div><div class="ttdef"><b>Definition:</b> <a href="grcam_8h_source.html#l00036">grcam.h:36</a></div></div>
<div class="ttc" id="structparam_html"><div class="ttname"><a href="structparam.html">param</a></div><div class="ttdoc">Parameter header structure, a parameter can either carry a numeric or a string value, numeric value is constraint by min and max, string value by options in within. </div><div class="ttdef"><b>Definition:</b> <a href="params_8cpp_source.html#l00063">params.cpp:63</a></div></div>
<div class="ttc" id="class_sound_interface_html_a195da8f5fb7991e1c25c53c50cdd4747"><div class="ttname"><a href="class_sound_interface.html#a195da8f5fb7991e1c25c53c50cdd4747">SoundInterface::setBottomCrashSound</a></div><div class="ttdeci">void setBottomCrashSound(const char *sound_name)</div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00200">SoundInterface.h:200</a></div></div>
<div class="ttc" id="car_8h_html"><div class="ttname"><a href="car_8h.html">car.h</a></div><div class="ttdoc">This is the car structure. </div></div>
<div class="ttc" id="struct_car_elt_html_ab0547230f49162fc20b7ad93307801a7"><div class="ttname"><a href="struct_car_elt.html#ab0547230f49162fc20b7ad93307801a7">CarElt::index</a></div><div class="ttdeci">int index</div><div class="ttdoc">car index </div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00447">car.h:447</a></div></div>
<div class="ttc" id="class_sound_interface_html_a6dac9388595cfad6c54daa41a3909fff"><div class="ttname"><a href="class_sound_interface.html#a6dac9388595cfad6c54daa41a3909fff">SoundInterface::setGlobalGain</a></div><div class="ttdeci">virtual void setGlobalGain(float g)</div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00227">SoundInterface.h:227</a></div></div>
<div class="ttc" id="class_sound_interface_html_a4479afa58d38fd73d37b7f264f41e0e6"><div class="ttname"><a href="class_sound_interface.html#a4479afa58d38fd73d37b7f264f41e0e6">SoundInterface::setGearChangeSound</a></div><div class="ttdeci">void setGearChangeSound(const char *sound_name)</div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00212">SoundInterface.h:212</a></div></div>
<div class="ttc" id="sound__defines_8h_html_a90c7c5a232f21e5ad552b0f8d37a2c40"><div class="ttname"><a href="sound__defines_8h.html#a90c7c5a232f21e5ad552b0f8d37a2c40">NB_CRASH_SOUND</a></div><div class="ttdeci">#define NB_CRASH_SOUND</div><div class="ttdef"><b>Definition:</b> <a href="sound__defines_8h_source.html#l00011">sound_defines.h:11</a></div></div>
<div class="ttc" id="class_sound_interface_html_a98763fc9e1ad11274adfdbd4672bf1da"><div class="ttname"><a href="class_sound_interface.html#a98763fc9e1ad11274adfdbd4672bf1da">SoundInterface::initSharedSourcePool</a></div><div class="ttdeci">virtual void initSharedSourcePool()</div><div class="ttdoc">initialised the pool of shared sources </div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00142">SoundInterface.h:142</a></div></div>
<div class="ttc" id="car_8h_html_a9d923dce9c0456d4a199d23378b2e77d"><div class="ttname"><a href="car_8h.html#a9d923dce9c0456d4a199d23378b2e77d">SECT_ENGINE</a></div><div class="ttdeci">#define SECT_ENGINE</div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00490">car.h:490</a></div></div>
<div class="ttc" id="class_sound_interface_html_a1ee50ec5725038caed78172d92388f68"><div class="ttname"><a href="class_sound_interface.html#a1ee50ec5725038caed78172d92388f68">SoundInterface::setCrashSound</a></div><div class="ttdeci">void setCrashSound(const char *sound_name, int index)</div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00187">SoundInterface.h:187</a></div></div>
<div class="ttc" id="grsound_8cpp_html_a3a32ed3efee191687f3ad519d30b6191"><div class="ttname"><a href="grsound_8cpp.html#a3a32ed3efee191687f3ad519d30b6191">sound_interface</a></div><div class="ttdeci">static SoundInterface * sound_interface</div><div class="ttdef"><b>Definition:</b> <a href="grsound_8cpp_source.html#l00038">grsound.cpp:38</a></div></div>
<div class="ttc" id="classc_gr_camera_html_a3e7f5694160c0c854ec51054b5a8e8fe"><div class="ttname"><a href="classc_gr_camera.html#a3e7f5694160c0c854ec51054b5a8e8fe">cGrCamera::getPosv</a></div><div class="ttdeci">sgVec3 * getPosv(void)</div><div class="ttdef"><b>Definition:</b> <a href="grcam_8h_source.html#l00098">grcam.h:98</a></div></div>
<div class="ttc" id="grsound_8cpp_html_a0f69cf19c6170eab0daeb7bbd43f9ea3a40f39385238042f6ec0cbac821a19fc4"><div class="ttname"><a href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3a40f39385238042f6ec0cbac821a19fc4">DISABLED</a></div><div class="ttdef"><b>Definition:</b> <a href="grsound_8cpp_source.html#l00041">grsound.cpp:41</a></div></div>
<div class="ttc" id="group__paramsdata_html_ga57d6d6694c94482128c7b7bd6bf0a2e8"><div class="ttname"><a href="group__paramsdata.html#ga57d6d6694c94482128c7b7bd6bf0a2e8">GfParmGetNum</a></div><div class="ttdeci">tdble GfParmGetNum(void *handle, const char *path, const char *key, const char *unit, tdble deflt)</div><div class="ttdoc">Get a numerical parameter from the parameter set handle. </div><div class="ttdef"><b>Definition:</b> <a href="params_8cpp_source.html#l02392">params.cpp:2392</a></div></div>
<div class="ttc" id="class_car_sound_data_html_a6502e792304832ac9e2c4f1bcb2f559a"><div class="ttname"><a href="class_car_sound_data.html#a6502e792304832ac9e2c4f1bcb2f559a">CarSoundData::setTurboParameters</a></div><div class="ttdeci">void setTurboParameters(bool turbo_on, float turbo_rpm, float turbo_lag)</div><div class="ttdef"><b>Definition:</b> <a href="_car_sound_data_8cpp_source.html#l00089">CarSoundData.cpp:89</a></div></div>
<div class="ttc" id="class_sound_interface_html"><div class="ttname"><a href="class_sound_interface.html">SoundInterface</a></div><div class="ttdoc">Sound interface. </div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00083">SoundInterface.h:83</a></div></div>
<div class="ttc" id="graphic_8h_html_aa3491644a42008a3a97d2b2f475d26b5"><div class="ttname"><a href="graphic_8h.html#aa3491644a42008a3a97d2b2f475d26b5">GR_ATT_SOUND_STATE_OPENAL</a></div><div class="ttdeci">#define GR_ATT_SOUND_STATE_OPENAL</div><div class="ttdef"><b>Definition:</b> <a href="graphic_8h_source.html#l00048">graphic.h:48</a></div></div>
<div class="ttc" id="graphic_8h_html_adb990abd095187e86d1f3e2befc53f64"><div class="ttname"><a href="graphic_8h.html#adb990abd095187e86d1f3e2befc53f64">GR_ATT_SOUND_STATE</a></div><div class="ttdeci">#define GR_ATT_SOUND_STATE</div><div class="ttdef"><b>Definition:</b> <a href="graphic_8h_source.html#l00046">graphic.h:46</a></div></div>
<div class="ttc" id="grsound_8cpp_html_a0f69cf19c6170eab0daeb7bbd43f9ea3ac65520f1ae4a066927471da23d91eafe"><div class="ttname"><a href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3ac65520f1ae4a066927471da23d91eafe">PLIB_MODE</a></div><div class="ttdef"><b>Definition:</b> <a href="grsound_8cpp_source.html#l00041">grsound.cpp:41</a></div></div>
<div class="ttc" id="grsound_8cpp_html_a0f69cf19c6170eab0daeb7bbd43f9ea3"><div class="ttname"><a href="grsound_8cpp.html#a0f69cf19c6170eab0daeb7bbd43f9ea3">SoundMode</a></div><div class="ttdeci">SoundMode</div><div class="ttdef"><b>Definition:</b> <a href="grsound_8cpp_source.html#l00041">grsound.cpp:41</a></div></div>
<div class="ttc" id="sound__defines_8h_html"><div class="ttname"><a href="sound__defines_8h.html">sound_defines.h</a></div></div>
<div class="ttc" id="class_sound_interface_html_a11750e72edfef96b4c16804ee931f7f4"><div class="ttname"><a href="class_sound_interface.html#a11750e72edfef96b4c16804ee931f7f4">SoundInterface::setGrassRideSound</a></div><div class="ttdeci">void setGrassRideSound(const char *sound_name)</div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00157">SoundInterface.h:157</a></div></div>
<div class="ttc" id="class_car_sound_data_html_adc8d7d71ba960539392587d2413541aa"><div class="ttname"><a href="class_car_sound_data.html#adc8d7d71ba960539392587d2413541aa">CarSoundData::update</a></div><div class="ttdeci">void update(tCarElt *car)</div><div class="ttdef"><b>Definition:</b> <a href="_car_sound_data_8cpp_source.html#l00099">CarSoundData.cpp:99</a></div></div>
<div class="ttc" id="sound__defines_8h_html_a8eca3763420842326b8491ec8ed7ecbe"><div class="ttname"><a href="sound__defines_8h.html#a8eca3763420842326b8491ec8ed7ecbe">ACTIVE_PITCH</a></div><div class="ttdeci">#define ACTIVE_PITCH</div><div class="ttdef"><b>Definition:</b> <a href="sound__defines_8h_source.html#l00015">sound_defines.h:15</a></div></div>
<div class="ttc" id="class_sound_interface_html_a583eefdf16eddf0056a7a9a66fbf6268"><div class="ttname"><a href="class_sound_interface.html#a583eefdf16eddf0056a7a9a66fbf6268">SoundInterface::muteForMenu</a></div><div class="ttdeci">virtual void muteForMenu()</div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00225">SoundInterface.h:225</a></div></div>
<div class="ttc" id="grsound_8cpp_html_a9fa93a6f3ff070bd9d598e00a50d163b"><div class="ttname"><a href="grsound_8cpp.html#a9fa93a6f3ff070bd9d598e00a50d163b">soundInitialized</a></div><div class="ttdeci">static int soundInitialized</div><div class="ttdef"><b>Definition:</b> <a href="grsound_8cpp_source.html#l00035">grsound.cpp:35</a></div></div>
<div class="ttc" id="classc_gr_camera_html_a63f584d19860098752beed106fdb5e2b"><div class="ttname"><a href="classc_gr_camera.html#a63f584d19860098752beed106fdb5e2b">cGrCamera::getUpv</a></div><div class="ttdeci">sgVec3 * getUpv(void)</div><div class="ttdef"><b>Definition:</b> <a href="grcam_8h_source.html#l00122">grcam.h:122</a></div></div>
<div class="ttc" id="class_sound_interface_html_a0d89a5d4743059172db0cb09d4b146f5"><div class="ttname"><a href="class_sound_interface.html#a0d89a5d4743059172db0cb09d4b146f5">SoundInterface::setNCars</a></div><div class="ttdeci">virtual void setNCars(int n_cars)=0</div><div class="ttdoc">Set the number of cars - must be defined in children classes. </div></div>
<div class="ttc" id="graphic_8h_html_ad5a764aa1c6aaf168cf0fd9137f11248"><div class="ttname"><a href="graphic_8h.html#ad5a764aa1c6aaf168cf0fd9137f11248">GR_ATT_SOUND_STATE_PLIB</a></div><div class="ttdeci">#define GR_ATT_SOUND_STATE_PLIB</div><div class="ttdef"><b>Definition:</b> <a href="graphic_8h_source.html#l00047">graphic.h:47</a></div></div>
<div class="ttc" id="tgf_8h_html_a0f576f562dd507e44b84473296f42696"><div class="ttname"><a href="tgf_8h.html#a0f576f562dd507e44b84473296f42696">GFPARM_RMODE_CREAT</a></div><div class="ttdeci">#define GFPARM_RMODE_CREAT</div><div class="ttdoc">Create the file if doesn&amp;#39;t exist. </div><div class="ttdef"><b>Definition:</b> <a href="tgf_8h_source.html#l00271">tgf.h:271</a></div></div>
<div class="ttc" id="grsound_8h_html"><div class="ttname"><a href="grsound_8h.html">grsound.h</a></div></div>
<div class="ttc" id="class_torcs_sound_html"><div class="ttname"><a href="class_torcs_sound.html">TorcsSound</a></div><div class="ttdoc">A generic TORCS sound. </div><div class="ttdef"><b>Definition:</b> <a href="_torcs_sound_8h_source.html#l00053">TorcsSound.h:53</a></div></div>
<div class="ttc" id="classc_gr_camera_html_a32dc291fb0ab3cb10470ba5bca005f7b"><div class="ttname"><a href="classc_gr_camera.html#a32dc291fb0ab3cb10470ba5bca005f7b">cGrCamera::getCenterv</a></div><div class="ttdeci">sgVec3 * getCenterv(void)</div><div class="ttdef"><b>Definition:</b> <a href="grcam_8h_source.html#l00111">grcam.h:111</a></div></div>
<div class="ttc" id="grsound_8cpp_html_a19473e6335deb524cc496dd9805955ab"><div class="ttname"><a href="grsound_8cpp.html#a19473e6335deb524cc496dd9805955ab">sound_mode</a></div><div class="ttdeci">static enum SoundMode sound_mode</div><div class="ttdef"><b>Definition:</b> <a href="grsound_8cpp_source.html#l00043">grsound.cpp:43</a></div></div>
<div class="ttc" id="car_8h_html_a89345c19fc96f2efac795f299b6f90e9"><div class="ttname"><a href="car_8h.html#a89345c19fc96f2efac795f299b6f90e9">PRM_TURBO_LAG</a></div><div class="ttdeci">#define PRM_TURBO_LAG</div><div class="ttdef"><b>Definition:</b> <a href="car_8h_source.html#l00580">car.h:580</a></div></div>
<div class="ttc" id="class_plib_sound_interface_html"><div class="ttname"><a href="class_plib_sound_interface.html">PlibSoundInterface</a></div><div class="ttdoc">PLIB interface. </div><div class="ttdef"><b>Definition:</b> <a href="_sound_interface_8h_source.html#l00237">SoundInterface.h:237</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_ddb4d7e95cc2d6c8e1ade10a20d7247d.html">modules</a></li><li class="navelem"><a class="el" href="dir_122e92c69672b37d3f3972d1708219ee.html">graphic</a></li><li class="navelem"><a class="el" href="dir_d7cbf3a3b3bc7693caf0953e4137fd81.html">ssggraph</a></li><li class="navelem"><a class="el" href="grsound_8cpp.html">grsound.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
